{"version":3,"file":"9a4a25011666e8aeee2ba86052fb093601fdb3f4-b5860f350f0d4a26e082.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/@aws-amplify/core/lib-esm/ClientDevice/browser.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/core/lib-esm/ClientDevice/index.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/models/models_1.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/commands/PutEventsCommand.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/commands/UpdateEndpointCommand.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/endpoints.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/runtimeConfig.shared.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/runtimeConfig.browser.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/dist/es/PinpointClient.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/Providers/EventBuffer.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/Providers/AWSPinpointProvider.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/utils/MethodEmbed.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/trackers/PageViewTracker.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/vendor/dom-utils/matches.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/vendor/dom-utils/delegate.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/vendor/dom-utils/closest.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/vendor/dom-utils/parents.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/trackers/EventTracker.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/trackers/SessionTracker.js","webpack://gatsby-starter-default/./node_modules/@aws-amplify/analytics/lib-esm/Analytics.js","webpack://gatsby-starter-default/./node_modules/@aws-sdk/client-pinpoint/node_modules/tslib/tslib.es6.js"],"sourcesContent":["/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { ConsoleLogger as Logger } from '../Logger';\nvar logger = new Logger('ClientDevice_Browser');\nexport function clientInfo() {\n  if (typeof window === 'undefined') {\n    return {};\n  }\n\n  return browserClientInfo();\n}\n\nfunction browserClientInfo() {\n  if (typeof window === 'undefined') {\n    logger.warn('No window object available to get browser client info');\n    return {};\n  }\n\n  var nav = window.navigator;\n\n  if (!nav) {\n    logger.warn('No navigator object available to get browser client info');\n    return {};\n  }\n\n  var platform = nav.platform,\n      product = nav.product,\n      vendor = nav.vendor,\n      userAgent = nav.userAgent,\n      language = nav.language;\n  var type = browserType(userAgent);\n  var timezone = browserTimezone();\n  return {\n    platform: platform,\n    make: product || vendor,\n    model: type.type,\n    version: type.version,\n    appVersion: [type.type, type.version].join('/'),\n    language: language,\n    timezone: timezone\n  };\n}\n\nexport function dimension() {\n  if (typeof window === 'undefined') {\n    logger.warn('No window object available to get browser client info');\n    return {\n      width: 320,\n      height: 320\n    };\n  }\n\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n}\n\nfunction browserTimezone() {\n  var tzMatch = /\\(([A-Za-z\\s].*)\\)/.exec(new Date().toString());\n  return tzMatch ? tzMatch[1] || '' : '';\n}\n\nexport function browserType(userAgent) {\n  var operaMatch = /.+(Opera[\\s[A-Z]*|OPR[\\sA-Z]*)\\/([0-9\\.]+).*/i.exec(userAgent);\n\n  if (operaMatch) {\n    return {\n      type: operaMatch[1],\n      version: operaMatch[2]\n    };\n  }\n\n  var ieMatch = /.+(Trident|Edge)\\/([0-9\\.]+).*/i.exec(userAgent);\n\n  if (ieMatch) {\n    return {\n      type: ieMatch[1],\n      version: ieMatch[2]\n    };\n  }\n\n  var cfMatch = /.+(Chrome|Firefox|FxiOS)\\/([0-9\\.]+).*/i.exec(userAgent);\n\n  if (cfMatch) {\n    return {\n      type: cfMatch[1],\n      version: cfMatch[2]\n    };\n  }\n\n  var sMatch = /.+(Safari)\\/([0-9\\.]+).*/i.exec(userAgent);\n\n  if (sMatch) {\n    return {\n      type: sMatch[1],\n      version: sMatch[2]\n    };\n  }\n\n  var awkMatch = /.+(AppleWebKit)\\/([0-9\\.]+).*/i.exec(userAgent);\n\n  if (awkMatch) {\n    return {\n      type: awkMatch[1],\n      version: awkMatch[2]\n    };\n  }\n\n  var anyMatch = /.*([A-Z]+)\\/([0-9\\.]+).*/i.exec(userAgent);\n\n  if (anyMatch) {\n    return {\n      type: anyMatch[1],\n      version: anyMatch[2]\n    };\n  }\n\n  return {\n    type: '',\n    version: ''\n  };\n}","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { clientInfo, dimension } from './browser';\n\nvar ClientDevice =\n/** @class */\nfunction () {\n  function ClientDevice() {}\n\n  ClientDevice.clientInfo = function () {\n    return clientInfo();\n  };\n\n  ClientDevice.dimension = function () {\n    return dimension();\n  };\n\n  return ClientDevice;\n}();\n\nexport { ClientDevice };\n/**\n * @deprecated use named import\n */\n\nexport default ClientDevice;","import { __assign } from \"tslib\";\nexport var GetJourneyDateRangeKpiRequest;\n\n(function (GetJourneyDateRangeKpiRequest) {\n  GetJourneyDateRangeKpiRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetJourneyDateRangeKpiRequest || (GetJourneyDateRangeKpiRequest = {}));\n\nexport var JourneyDateRangeKpiResponse;\n\n(function (JourneyDateRangeKpiResponse) {\n  JourneyDateRangeKpiResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(JourneyDateRangeKpiResponse || (JourneyDateRangeKpiResponse = {}));\n\nexport var GetJourneyDateRangeKpiResponse;\n\n(function (GetJourneyDateRangeKpiResponse) {\n  GetJourneyDateRangeKpiResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetJourneyDateRangeKpiResponse || (GetJourneyDateRangeKpiResponse = {}));\n\nexport var GetJourneyExecutionActivityMetricsRequest;\n\n(function (GetJourneyExecutionActivityMetricsRequest) {\n  GetJourneyExecutionActivityMetricsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetJourneyExecutionActivityMetricsRequest || (GetJourneyExecutionActivityMetricsRequest = {}));\n\nexport var JourneyExecutionActivityMetricsResponse;\n\n(function (JourneyExecutionActivityMetricsResponse) {\n  JourneyExecutionActivityMetricsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(JourneyExecutionActivityMetricsResponse || (JourneyExecutionActivityMetricsResponse = {}));\n\nexport var GetJourneyExecutionActivityMetricsResponse;\n\n(function (GetJourneyExecutionActivityMetricsResponse) {\n  GetJourneyExecutionActivityMetricsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetJourneyExecutionActivityMetricsResponse || (GetJourneyExecutionActivityMetricsResponse = {}));\n\nexport var GetJourneyExecutionMetricsRequest;\n\n(function (GetJourneyExecutionMetricsRequest) {\n  GetJourneyExecutionMetricsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetJourneyExecutionMetricsRequest || (GetJourneyExecutionMetricsRequest = {}));\n\nexport var JourneyExecutionMetricsResponse;\n\n(function (JourneyExecutionMetricsResponse) {\n  JourneyExecutionMetricsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(JourneyExecutionMetricsResponse || (JourneyExecutionMetricsResponse = {}));\n\nexport var GetJourneyExecutionMetricsResponse;\n\n(function (GetJourneyExecutionMetricsResponse) {\n  GetJourneyExecutionMetricsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetJourneyExecutionMetricsResponse || (GetJourneyExecutionMetricsResponse = {}));\n\nexport var GetPushTemplateRequest;\n\n(function (GetPushTemplateRequest) {\n  GetPushTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetPushTemplateRequest || (GetPushTemplateRequest = {}));\n\nexport var PushNotificationTemplateResponse;\n\n(function (PushNotificationTemplateResponse) {\n  PushNotificationTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PushNotificationTemplateResponse || (PushNotificationTemplateResponse = {}));\n\nexport var GetPushTemplateResponse;\n\n(function (GetPushTemplateResponse) {\n  GetPushTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetPushTemplateResponse || (GetPushTemplateResponse = {}));\n\nexport var GetRecommenderConfigurationRequest;\n\n(function (GetRecommenderConfigurationRequest) {\n  GetRecommenderConfigurationRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetRecommenderConfigurationRequest || (GetRecommenderConfigurationRequest = {}));\n\nexport var GetRecommenderConfigurationResponse;\n\n(function (GetRecommenderConfigurationResponse) {\n  GetRecommenderConfigurationResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetRecommenderConfigurationResponse || (GetRecommenderConfigurationResponse = {}));\n\nexport var GetRecommenderConfigurationsRequest;\n\n(function (GetRecommenderConfigurationsRequest) {\n  GetRecommenderConfigurationsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetRecommenderConfigurationsRequest || (GetRecommenderConfigurationsRequest = {}));\n\nexport var ListRecommenderConfigurationsResponse;\n\n(function (ListRecommenderConfigurationsResponse) {\n  ListRecommenderConfigurationsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListRecommenderConfigurationsResponse || (ListRecommenderConfigurationsResponse = {}));\n\nexport var GetRecommenderConfigurationsResponse;\n\n(function (GetRecommenderConfigurationsResponse) {\n  GetRecommenderConfigurationsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetRecommenderConfigurationsResponse || (GetRecommenderConfigurationsResponse = {}));\n\nexport var GetSegmentRequest;\n\n(function (GetSegmentRequest) {\n  GetSegmentRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentRequest || (GetSegmentRequest = {}));\n\nexport var GetSegmentResponse;\n\n(function (GetSegmentResponse) {\n  GetSegmentResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentResponse || (GetSegmentResponse = {}));\n\nexport var GetSegmentExportJobsRequest;\n\n(function (GetSegmentExportJobsRequest) {\n  GetSegmentExportJobsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentExportJobsRequest || (GetSegmentExportJobsRequest = {}));\n\nexport var GetSegmentExportJobsResponse;\n\n(function (GetSegmentExportJobsResponse) {\n  GetSegmentExportJobsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentExportJobsResponse || (GetSegmentExportJobsResponse = {}));\n\nexport var GetSegmentImportJobsRequest;\n\n(function (GetSegmentImportJobsRequest) {\n  GetSegmentImportJobsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentImportJobsRequest || (GetSegmentImportJobsRequest = {}));\n\nexport var GetSegmentImportJobsResponse;\n\n(function (GetSegmentImportJobsResponse) {\n  GetSegmentImportJobsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentImportJobsResponse || (GetSegmentImportJobsResponse = {}));\n\nexport var GetSegmentsRequest;\n\n(function (GetSegmentsRequest) {\n  GetSegmentsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentsRequest || (GetSegmentsRequest = {}));\n\nexport var SegmentsResponse;\n\n(function (SegmentsResponse) {\n  SegmentsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SegmentsResponse || (SegmentsResponse = {}));\n\nexport var GetSegmentsResponse;\n\n(function (GetSegmentsResponse) {\n  GetSegmentsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentsResponse || (GetSegmentsResponse = {}));\n\nexport var GetSegmentVersionRequest;\n\n(function (GetSegmentVersionRequest) {\n  GetSegmentVersionRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentVersionRequest || (GetSegmentVersionRequest = {}));\n\nexport var GetSegmentVersionResponse;\n\n(function (GetSegmentVersionResponse) {\n  GetSegmentVersionResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentVersionResponse || (GetSegmentVersionResponse = {}));\n\nexport var GetSegmentVersionsRequest;\n\n(function (GetSegmentVersionsRequest) {\n  GetSegmentVersionsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentVersionsRequest || (GetSegmentVersionsRequest = {}));\n\nexport var GetSegmentVersionsResponse;\n\n(function (GetSegmentVersionsResponse) {\n  GetSegmentVersionsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSegmentVersionsResponse || (GetSegmentVersionsResponse = {}));\n\nexport var GetSmsChannelRequest;\n\n(function (GetSmsChannelRequest) {\n  GetSmsChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSmsChannelRequest || (GetSmsChannelRequest = {}));\n\nexport var GetSmsChannelResponse;\n\n(function (GetSmsChannelResponse) {\n  GetSmsChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSmsChannelResponse || (GetSmsChannelResponse = {}));\n\nexport var GetSmsTemplateRequest;\n\n(function (GetSmsTemplateRequest) {\n  GetSmsTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSmsTemplateRequest || (GetSmsTemplateRequest = {}));\n\nexport var SMSTemplateResponse;\n\n(function (SMSTemplateResponse) {\n  SMSTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SMSTemplateResponse || (SMSTemplateResponse = {}));\n\nexport var GetSmsTemplateResponse;\n\n(function (GetSmsTemplateResponse) {\n  GetSmsTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetSmsTemplateResponse || (GetSmsTemplateResponse = {}));\n\nexport var GetUserEndpointsRequest;\n\n(function (GetUserEndpointsRequest) {\n  GetUserEndpointsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetUserEndpointsRequest || (GetUserEndpointsRequest = {}));\n\nexport var GetUserEndpointsResponse;\n\n(function (GetUserEndpointsResponse) {\n  GetUserEndpointsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetUserEndpointsResponse || (GetUserEndpointsResponse = {}));\n\nexport var GetVoiceChannelRequest;\n\n(function (GetVoiceChannelRequest) {\n  GetVoiceChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetVoiceChannelRequest || (GetVoiceChannelRequest = {}));\n\nexport var GetVoiceChannelResponse;\n\n(function (GetVoiceChannelResponse) {\n  GetVoiceChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetVoiceChannelResponse || (GetVoiceChannelResponse = {}));\n\nexport var GetVoiceTemplateRequest;\n\n(function (GetVoiceTemplateRequest) {\n  GetVoiceTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetVoiceTemplateRequest || (GetVoiceTemplateRequest = {}));\n\nexport var VoiceTemplateResponse;\n\n(function (VoiceTemplateResponse) {\n  VoiceTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(VoiceTemplateResponse || (VoiceTemplateResponse = {}));\n\nexport var GetVoiceTemplateResponse;\n\n(function (GetVoiceTemplateResponse) {\n  GetVoiceTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(GetVoiceTemplateResponse || (GetVoiceTemplateResponse = {}));\n\nexport var JourneysResponse;\n\n(function (JourneysResponse) {\n  JourneysResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(JourneysResponse || (JourneysResponse = {}));\n\nexport var JourneyStateRequest;\n\n(function (JourneyStateRequest) {\n  JourneyStateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(JourneyStateRequest || (JourneyStateRequest = {}));\n\nexport var ListJourneysRequest;\n\n(function (ListJourneysRequest) {\n  ListJourneysRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListJourneysRequest || (ListJourneysRequest = {}));\n\nexport var ListJourneysResponse;\n\n(function (ListJourneysResponse) {\n  ListJourneysResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListJourneysResponse || (ListJourneysResponse = {}));\n\nexport var TemplateResponse;\n\n(function (TemplateResponse) {\n  TemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TemplateResponse || (TemplateResponse = {}));\n\nexport var TemplateVersionResponse;\n\n(function (TemplateVersionResponse) {\n  TemplateVersionResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TemplateVersionResponse || (TemplateVersionResponse = {}));\n\nexport var ListTagsForResourceRequest;\n\n(function (ListTagsForResourceRequest) {\n  ListTagsForResourceRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListTagsForResourceRequest || (ListTagsForResourceRequest = {}));\n\nexport var TagsModel;\n\n(function (TagsModel) {\n  TagsModel.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TagsModel || (TagsModel = {}));\n\nexport var ListTagsForResourceResponse;\n\n(function (ListTagsForResourceResponse) {\n  ListTagsForResourceResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListTagsForResourceResponse || (ListTagsForResourceResponse = {}));\n\nexport var ListTemplatesRequest;\n\n(function (ListTemplatesRequest) {\n  ListTemplatesRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListTemplatesRequest || (ListTemplatesRequest = {}));\n\nexport var TemplatesResponse;\n\n(function (TemplatesResponse) {\n  TemplatesResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TemplatesResponse || (TemplatesResponse = {}));\n\nexport var ListTemplatesResponse;\n\n(function (ListTemplatesResponse) {\n  ListTemplatesResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListTemplatesResponse || (ListTemplatesResponse = {}));\n\nexport var ListTemplateVersionsRequest;\n\n(function (ListTemplateVersionsRequest) {\n  ListTemplateVersionsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListTemplateVersionsRequest || (ListTemplateVersionsRequest = {}));\n\nexport var TemplateVersionsResponse;\n\n(function (TemplateVersionsResponse) {\n  TemplateVersionsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TemplateVersionsResponse || (TemplateVersionsResponse = {}));\n\nexport var ListTemplateVersionsResponse;\n\n(function (ListTemplateVersionsResponse) {\n  ListTemplateVersionsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(ListTemplateVersionsResponse || (ListTemplateVersionsResponse = {}));\n\nexport var MessageResult;\n\n(function (MessageResult) {\n  MessageResult.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(MessageResult || (MessageResult = {}));\n\nexport var MessageRequest;\n\n(function (MessageRequest) {\n  MessageRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(MessageRequest || (MessageRequest = {}));\n\nexport var MessageResponse;\n\n(function (MessageResponse) {\n  MessageResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(MessageResponse || (MessageResponse = {}));\n\nexport var NumberValidateRequest;\n\n(function (NumberValidateRequest) {\n  NumberValidateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(NumberValidateRequest || (NumberValidateRequest = {}));\n\nexport var NumberValidateResponse;\n\n(function (NumberValidateResponse) {\n  NumberValidateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(NumberValidateResponse || (NumberValidateResponse = {}));\n\nexport var PhoneNumberValidateRequest;\n\n(function (PhoneNumberValidateRequest) {\n  PhoneNumberValidateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PhoneNumberValidateRequest || (PhoneNumberValidateRequest = {}));\n\nexport var PhoneNumberValidateResponse;\n\n(function (PhoneNumberValidateResponse) {\n  PhoneNumberValidateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PhoneNumberValidateResponse || (PhoneNumberValidateResponse = {}));\n\nexport var PutEventsRequest;\n\n(function (PutEventsRequest) {\n  PutEventsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PutEventsRequest || (PutEventsRequest = {}));\n\nexport var PutEventsResponse;\n\n(function (PutEventsResponse) {\n  PutEventsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PutEventsResponse || (PutEventsResponse = {}));\n\nexport var WriteEventStream;\n\n(function (WriteEventStream) {\n  WriteEventStream.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(WriteEventStream || (WriteEventStream = {}));\n\nexport var PutEventStreamRequest;\n\n(function (PutEventStreamRequest) {\n  PutEventStreamRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PutEventStreamRequest || (PutEventStreamRequest = {}));\n\nexport var PutEventStreamResponse;\n\n(function (PutEventStreamResponse) {\n  PutEventStreamResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(PutEventStreamResponse || (PutEventStreamResponse = {}));\n\nexport var UpdateAttributesRequest;\n\n(function (UpdateAttributesRequest) {\n  UpdateAttributesRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateAttributesRequest || (UpdateAttributesRequest = {}));\n\nexport var RemoveAttributesRequest;\n\n(function (RemoveAttributesRequest) {\n  RemoveAttributesRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(RemoveAttributesRequest || (RemoveAttributesRequest = {}));\n\nexport var RemoveAttributesResponse;\n\n(function (RemoveAttributesResponse) {\n  RemoveAttributesResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(RemoveAttributesResponse || (RemoveAttributesResponse = {}));\n\nexport var SendMessagesRequest;\n\n(function (SendMessagesRequest) {\n  SendMessagesRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SendMessagesRequest || (SendMessagesRequest = {}));\n\nexport var SendMessagesResponse;\n\n(function (SendMessagesResponse) {\n  SendMessagesResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SendMessagesResponse || (SendMessagesResponse = {}));\n\nexport var SendUsersMessageRequest;\n\n(function (SendUsersMessageRequest) {\n  SendUsersMessageRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SendUsersMessageRequest || (SendUsersMessageRequest = {}));\n\nexport var SendUsersMessagesRequest;\n\n(function (SendUsersMessagesRequest) {\n  SendUsersMessagesRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SendUsersMessagesRequest || (SendUsersMessagesRequest = {}));\n\nexport var SendUsersMessageResponse;\n\n(function (SendUsersMessageResponse) {\n  SendUsersMessageResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SendUsersMessageResponse || (SendUsersMessageResponse = {}));\n\nexport var SendUsersMessagesResponse;\n\n(function (SendUsersMessagesResponse) {\n  SendUsersMessagesResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SendUsersMessagesResponse || (SendUsersMessagesResponse = {}));\n\nexport var TagResourceRequest;\n\n(function (TagResourceRequest) {\n  TagResourceRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TagResourceRequest || (TagResourceRequest = {}));\n\nexport var UntagResourceRequest;\n\n(function (UntagResourceRequest) {\n  UntagResourceRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UntagResourceRequest || (UntagResourceRequest = {}));\n\nexport var UpdateAdmChannelRequest;\n\n(function (UpdateAdmChannelRequest) {\n  UpdateAdmChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateAdmChannelRequest || (UpdateAdmChannelRequest = {}));\n\nexport var UpdateAdmChannelResponse;\n\n(function (UpdateAdmChannelResponse) {\n  UpdateAdmChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateAdmChannelResponse || (UpdateAdmChannelResponse = {}));\n\nexport var UpdateApnsChannelRequest;\n\n(function (UpdateApnsChannelRequest) {\n  UpdateApnsChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsChannelRequest || (UpdateApnsChannelRequest = {}));\n\nexport var UpdateApnsChannelResponse;\n\n(function (UpdateApnsChannelResponse) {\n  UpdateApnsChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsChannelResponse || (UpdateApnsChannelResponse = {}));\n\nexport var UpdateApnsSandboxChannelRequest;\n\n(function (UpdateApnsSandboxChannelRequest) {\n  UpdateApnsSandboxChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsSandboxChannelRequest || (UpdateApnsSandboxChannelRequest = {}));\n\nexport var UpdateApnsSandboxChannelResponse;\n\n(function (UpdateApnsSandboxChannelResponse) {\n  UpdateApnsSandboxChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsSandboxChannelResponse || (UpdateApnsSandboxChannelResponse = {}));\n\nexport var UpdateApnsVoipChannelRequest;\n\n(function (UpdateApnsVoipChannelRequest) {\n  UpdateApnsVoipChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsVoipChannelRequest || (UpdateApnsVoipChannelRequest = {}));\n\nexport var UpdateApnsVoipChannelResponse;\n\n(function (UpdateApnsVoipChannelResponse) {\n  UpdateApnsVoipChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsVoipChannelResponse || (UpdateApnsVoipChannelResponse = {}));\n\nexport var UpdateApnsVoipSandboxChannelRequest;\n\n(function (UpdateApnsVoipSandboxChannelRequest) {\n  UpdateApnsVoipSandboxChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsVoipSandboxChannelRequest || (UpdateApnsVoipSandboxChannelRequest = {}));\n\nexport var UpdateApnsVoipSandboxChannelResponse;\n\n(function (UpdateApnsVoipSandboxChannelResponse) {\n  UpdateApnsVoipSandboxChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApnsVoipSandboxChannelResponse || (UpdateApnsVoipSandboxChannelResponse = {}));\n\nexport var WriteApplicationSettingsRequest;\n\n(function (WriteApplicationSettingsRequest) {\n  WriteApplicationSettingsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(WriteApplicationSettingsRequest || (WriteApplicationSettingsRequest = {}));\n\nexport var UpdateApplicationSettingsRequest;\n\n(function (UpdateApplicationSettingsRequest) {\n  UpdateApplicationSettingsRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApplicationSettingsRequest || (UpdateApplicationSettingsRequest = {}));\n\nexport var UpdateApplicationSettingsResponse;\n\n(function (UpdateApplicationSettingsResponse) {\n  UpdateApplicationSettingsResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateApplicationSettingsResponse || (UpdateApplicationSettingsResponse = {}));\n\nexport var UpdateBaiduChannelRequest;\n\n(function (UpdateBaiduChannelRequest) {\n  UpdateBaiduChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateBaiduChannelRequest || (UpdateBaiduChannelRequest = {}));\n\nexport var UpdateBaiduChannelResponse;\n\n(function (UpdateBaiduChannelResponse) {\n  UpdateBaiduChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateBaiduChannelResponse || (UpdateBaiduChannelResponse = {}));\n\nexport var UpdateCampaignRequest;\n\n(function (UpdateCampaignRequest) {\n  UpdateCampaignRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateCampaignRequest || (UpdateCampaignRequest = {}));\n\nexport var UpdateCampaignResponse;\n\n(function (UpdateCampaignResponse) {\n  UpdateCampaignResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateCampaignResponse || (UpdateCampaignResponse = {}));\n\nexport var UpdateEmailChannelRequest;\n\n(function (UpdateEmailChannelRequest) {\n  UpdateEmailChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEmailChannelRequest || (UpdateEmailChannelRequest = {}));\n\nexport var UpdateEmailChannelResponse;\n\n(function (UpdateEmailChannelResponse) {\n  UpdateEmailChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEmailChannelResponse || (UpdateEmailChannelResponse = {}));\n\nexport var UpdateEmailTemplateRequest;\n\n(function (UpdateEmailTemplateRequest) {\n  UpdateEmailTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEmailTemplateRequest || (UpdateEmailTemplateRequest = {}));\n\nexport var UpdateEmailTemplateResponse;\n\n(function (UpdateEmailTemplateResponse) {\n  UpdateEmailTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEmailTemplateResponse || (UpdateEmailTemplateResponse = {}));\n\nexport var UpdateEndpointRequest;\n\n(function (UpdateEndpointRequest) {\n  UpdateEndpointRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEndpointRequest || (UpdateEndpointRequest = {}));\n\nexport var UpdateEndpointResponse;\n\n(function (UpdateEndpointResponse) {\n  UpdateEndpointResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEndpointResponse || (UpdateEndpointResponse = {}));\n\nexport var UpdateEndpointsBatchRequest;\n\n(function (UpdateEndpointsBatchRequest) {\n  UpdateEndpointsBatchRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEndpointsBatchRequest || (UpdateEndpointsBatchRequest = {}));\n\nexport var UpdateEndpointsBatchResponse;\n\n(function (UpdateEndpointsBatchResponse) {\n  UpdateEndpointsBatchResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateEndpointsBatchResponse || (UpdateEndpointsBatchResponse = {}));\n\nexport var UpdateGcmChannelRequest;\n\n(function (UpdateGcmChannelRequest) {\n  UpdateGcmChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateGcmChannelRequest || (UpdateGcmChannelRequest = {}));\n\nexport var UpdateGcmChannelResponse;\n\n(function (UpdateGcmChannelResponse) {\n  UpdateGcmChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateGcmChannelResponse || (UpdateGcmChannelResponse = {}));\n\nexport var UpdateJourneyRequest;\n\n(function (UpdateJourneyRequest) {\n  UpdateJourneyRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateJourneyRequest || (UpdateJourneyRequest = {}));\n\nexport var UpdateJourneyResponse;\n\n(function (UpdateJourneyResponse) {\n  UpdateJourneyResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateJourneyResponse || (UpdateJourneyResponse = {}));\n\nexport var UpdateJourneyStateRequest;\n\n(function (UpdateJourneyStateRequest) {\n  UpdateJourneyStateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateJourneyStateRequest || (UpdateJourneyStateRequest = {}));\n\nexport var UpdateJourneyStateResponse;\n\n(function (UpdateJourneyStateResponse) {\n  UpdateJourneyStateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateJourneyStateResponse || (UpdateJourneyStateResponse = {}));\n\nexport var UpdatePushTemplateRequest;\n\n(function (UpdatePushTemplateRequest) {\n  UpdatePushTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdatePushTemplateRequest || (UpdatePushTemplateRequest = {}));\n\nexport var UpdatePushTemplateResponse;\n\n(function (UpdatePushTemplateResponse) {\n  UpdatePushTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdatePushTemplateResponse || (UpdatePushTemplateResponse = {}));\n\nexport var UpdateRecommenderConfigurationShape;\n\n(function (UpdateRecommenderConfigurationShape) {\n  UpdateRecommenderConfigurationShape.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateRecommenderConfigurationShape || (UpdateRecommenderConfigurationShape = {}));\n\nexport var UpdateRecommenderConfigurationRequest;\n\n(function (UpdateRecommenderConfigurationRequest) {\n  UpdateRecommenderConfigurationRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateRecommenderConfigurationRequest || (UpdateRecommenderConfigurationRequest = {}));\n\nexport var UpdateRecommenderConfigurationResponse;\n\n(function (UpdateRecommenderConfigurationResponse) {\n  UpdateRecommenderConfigurationResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateRecommenderConfigurationResponse || (UpdateRecommenderConfigurationResponse = {}));\n\nexport var UpdateSegmentRequest;\n\n(function (UpdateSegmentRequest) {\n  UpdateSegmentRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateSegmentRequest || (UpdateSegmentRequest = {}));\n\nexport var UpdateSegmentResponse;\n\n(function (UpdateSegmentResponse) {\n  UpdateSegmentResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateSegmentResponse || (UpdateSegmentResponse = {}));\n\nexport var SMSChannelRequest;\n\n(function (SMSChannelRequest) {\n  SMSChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(SMSChannelRequest || (SMSChannelRequest = {}));\n\nexport var UpdateSmsChannelRequest;\n\n(function (UpdateSmsChannelRequest) {\n  UpdateSmsChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateSmsChannelRequest || (UpdateSmsChannelRequest = {}));\n\nexport var UpdateSmsChannelResponse;\n\n(function (UpdateSmsChannelResponse) {\n  UpdateSmsChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateSmsChannelResponse || (UpdateSmsChannelResponse = {}));\n\nexport var UpdateSmsTemplateRequest;\n\n(function (UpdateSmsTemplateRequest) {\n  UpdateSmsTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateSmsTemplateRequest || (UpdateSmsTemplateRequest = {}));\n\nexport var UpdateSmsTemplateResponse;\n\n(function (UpdateSmsTemplateResponse) {\n  UpdateSmsTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateSmsTemplateResponse || (UpdateSmsTemplateResponse = {}));\n\nexport var TemplateActiveVersionRequest;\n\n(function (TemplateActiveVersionRequest) {\n  TemplateActiveVersionRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(TemplateActiveVersionRequest || (TemplateActiveVersionRequest = {}));\n\nexport var UpdateTemplateActiveVersionRequest;\n\n(function (UpdateTemplateActiveVersionRequest) {\n  UpdateTemplateActiveVersionRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateTemplateActiveVersionRequest || (UpdateTemplateActiveVersionRequest = {}));\n\nexport var UpdateTemplateActiveVersionResponse;\n\n(function (UpdateTemplateActiveVersionResponse) {\n  UpdateTemplateActiveVersionResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateTemplateActiveVersionResponse || (UpdateTemplateActiveVersionResponse = {}));\n\nexport var VoiceChannelRequest;\n\n(function (VoiceChannelRequest) {\n  VoiceChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(VoiceChannelRequest || (VoiceChannelRequest = {}));\n\nexport var UpdateVoiceChannelRequest;\n\n(function (UpdateVoiceChannelRequest) {\n  UpdateVoiceChannelRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateVoiceChannelRequest || (UpdateVoiceChannelRequest = {}));\n\nexport var UpdateVoiceChannelResponse;\n\n(function (UpdateVoiceChannelResponse) {\n  UpdateVoiceChannelResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateVoiceChannelResponse || (UpdateVoiceChannelResponse = {}));\n\nexport var UpdateVoiceTemplateRequest;\n\n(function (UpdateVoiceTemplateRequest) {\n  UpdateVoiceTemplateRequest.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateVoiceTemplateRequest || (UpdateVoiceTemplateRequest = {}));\n\nexport var UpdateVoiceTemplateResponse;\n\n(function (UpdateVoiceTemplateResponse) {\n  UpdateVoiceTemplateResponse.filterSensitiveLog = function (obj) {\n    return __assign({}, obj);\n  };\n})(UpdateVoiceTemplateResponse || (UpdateVoiceTemplateResponse = {}));","import { __extends } from \"tslib\";\nimport { PutEventsRequest, PutEventsResponse } from \"../models/models_1\";\nimport { deserializeAws_restJson1PutEventsCommand, serializeAws_restJson1PutEventsCommand } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Creates a new event to record for endpoints, or creates or updates endpoint data that existing events are associated with.</p>\n */\n\nvar PutEventsCommand =\n/** @class */\nfunction (_super) {\n  __extends(PutEventsCommand, _super); // Start section: command_properties\n  // End section: command_properties\n\n\n  function PutEventsCommand(input) {\n    var _this = // Start section: command_constructor\n    _super.call(this) || this;\n\n    _this.input = input;\n    return _this; // End section: command_constructor\n  }\n  /**\n   * @internal\n   */\n\n\n  PutEventsCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n    this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n    var stack = clientStack.concat(this.middlewareStack);\n    var logger = configuration.logger;\n    var clientName = \"PinpointClient\";\n    var commandName = \"PutEventsCommand\";\n    var handlerExecutionContext = {\n      logger: logger,\n      clientName: clientName,\n      commandName: commandName,\n      inputFilterSensitiveLog: PutEventsRequest.filterSensitiveLog,\n      outputFilterSensitiveLog: PutEventsResponse.filterSensitiveLog\n    };\n    var requestHandler = configuration.requestHandler;\n    return stack.resolve(function (request) {\n      return requestHandler.handle(request.request, options || {});\n    }, handlerExecutionContext);\n  };\n\n  PutEventsCommand.prototype.serialize = function (input, context) {\n    return serializeAws_restJson1PutEventsCommand(input, context);\n  };\n\n  PutEventsCommand.prototype.deserialize = function (output, context) {\n    return deserializeAws_restJson1PutEventsCommand(output, context);\n  };\n\n  return PutEventsCommand;\n}($Command);\n\nexport { PutEventsCommand };","import { __extends } from \"tslib\";\nimport { UpdateEndpointRequest, UpdateEndpointResponse } from \"../models/models_1\";\nimport { deserializeAws_restJson1UpdateEndpointCommand, serializeAws_restJson1UpdateEndpointCommand } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Creates a new endpoint for an application or updates the settings and attributes of an existing endpoint for an application. You can also use this operation to define custom attributes for an endpoint. If an update includes one or more values for a custom attribute, Amazon Pinpoint replaces (overwrites) any existing values with the new values.</p>\n */\n\nvar UpdateEndpointCommand =\n/** @class */\nfunction (_super) {\n  __extends(UpdateEndpointCommand, _super); // Start section: command_properties\n  // End section: command_properties\n\n\n  function UpdateEndpointCommand(input) {\n    var _this = // Start section: command_constructor\n    _super.call(this) || this;\n\n    _this.input = input;\n    return _this; // End section: command_constructor\n  }\n  /**\n   * @internal\n   */\n\n\n  UpdateEndpointCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n    this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n    var stack = clientStack.concat(this.middlewareStack);\n    var logger = configuration.logger;\n    var clientName = \"PinpointClient\";\n    var commandName = \"UpdateEndpointCommand\";\n    var handlerExecutionContext = {\n      logger: logger,\n      clientName: clientName,\n      commandName: commandName,\n      inputFilterSensitiveLog: UpdateEndpointRequest.filterSensitiveLog,\n      outputFilterSensitiveLog: UpdateEndpointResponse.filterSensitiveLog\n    };\n    var requestHandler = configuration.requestHandler;\n    return stack.resolve(function (request) {\n      return requestHandler.handle(request.request, options || {});\n    }, handlerExecutionContext);\n  };\n\n  UpdateEndpointCommand.prototype.serialize = function (input, context) {\n    return serializeAws_restJson1UpdateEndpointCommand(input, context);\n  };\n\n  UpdateEndpointCommand.prototype.deserialize = function (output, context) {\n    return deserializeAws_restJson1UpdateEndpointCommand(output, context);\n  };\n\n  return UpdateEndpointCommand;\n}($Command);\n\nexport { UpdateEndpointCommand };","import { __assign } from \"tslib\"; // Partition default templates\n\nvar AWS_TEMPLATE = \"pinpoint.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"pinpoint.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"pinpoint.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"pinpoint.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"pinpoint.{region}.amazonaws.com\"; // Partition regions\n\nvar AWS_REGIONS = new Set([\"af-south-1\", \"ap-east-1\", \"ap-northeast-1\", \"ap-northeast-2\", \"ap-south-1\", \"ap-southeast-1\", \"ap-southeast-2\", \"ca-central-1\", \"eu-central-1\", \"eu-north-1\", \"eu-south-1\", \"eu-west-1\", \"eu-west-2\", \"eu-west-3\", \"me-south-1\", \"sa-east-1\", \"us-east-1\", \"us-east-2\", \"us-west-1\", \"us-west-2\"]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-east-1\", \"us-gov-west-1\"]);\nexport var defaultRegionInfoProvider = function defaultRegionInfoProvider(region, options) {\n  var regionInfo = undefined;\n\n  switch (region) {\n    // First, try to match exact region names.\n    case \"ap-northeast-1\":\n      regionInfo = {\n        hostname: \"pinpoint.ap-northeast-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"ap-northeast-2\":\n      regionInfo = {\n        hostname: \"pinpoint.ap-northeast-2.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"ap-south-1\":\n      regionInfo = {\n        hostname: \"pinpoint.ap-south-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"ap-southeast-1\":\n      regionInfo = {\n        hostname: \"pinpoint.ap-southeast-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"ap-southeast-2\":\n      regionInfo = {\n        hostname: \"pinpoint.ap-southeast-2.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"ca-central-1\":\n      regionInfo = {\n        hostname: \"pinpoint.ca-central-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"eu-central-1\":\n      regionInfo = {\n        hostname: \"pinpoint.eu-central-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"eu-west-1\":\n      regionInfo = {\n        hostname: \"pinpoint.eu-west-1.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"eu-west-2\":\n      regionInfo = {\n        hostname: \"pinpoint.eu-west-2.amazonaws.com\",\n        partition: \"aws\",\n        signingService: \"mobiletargeting\"\n      };\n      break;\n\n    case \"fips-us-east-1\":\n      regionInfo = {\n        hostname: \"pinpoint-fips.us-east-1.amazonaws.com\",\n        partition: \"aws\",\n        signingRegion: \"us-east-1\"\n      };\n      break;\n\n    case \"fips-us-gov-west-1\":\n      regionInfo = {\n        hostname: \"pinpoint-fips.us-gov-west-1.amazonaws.com\",\n        partition: \"aws-us-gov\",\n        signingRegion: \"us-gov-west-1\"\n      };\n      break;\n\n    case \"fips-us-west-2\":\n      regionInfo = {\n        hostname: \"pinpoint-fips.us-west-2.amazonaws.com\",\n        partition: \"aws\",\n        signingRegion: \"us-west-2\"\n      };\n      break;\n\n    case \"us-east-1\":\n      regionInfo = {\n        hostname: \"pinpoint.us-east-1.amazonaws.com\",\n        partition: \"aws\",\n        signingRegion: \"us-east-1\"\n      };\n      break;\n\n    case \"us-gov-west-1\":\n      regionInfo = {\n        hostname: \"pinpoint.us-gov-west-1.amazonaws.com\",\n        partition: \"aws-us-gov\",\n        signingRegion: \"us-gov-west-1\"\n      };\n      break;\n\n    case \"us-west-2\":\n      regionInfo = {\n        hostname: \"pinpoint.us-west-2.amazonaws.com\",\n        partition: \"aws\",\n        signingRegion: \"us-west-2\"\n      };\n      break;\n    // Next, try to match partition endpoints.\n\n    default:\n      if (AWS_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws\",\n          signingService: \"mobiletargeting\"\n        };\n      }\n\n      if (AWS_CN_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-cn\"\n        };\n      }\n\n      if (AWS_ISO_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-iso\"\n        };\n      }\n\n      if (AWS_ISO_B_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-iso-b\"\n        };\n      }\n\n      if (AWS_US_GOV_REGIONS.has(region)) {\n        regionInfo = {\n          hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws-us-gov\",\n          signingService: \"mobiletargeting\"\n        };\n      } // Finally, assume it's an AWS partition endpoint.\n\n\n      if (regionInfo === undefined) {\n        regionInfo = {\n          hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n          partition: \"aws\",\n          signingService: \"mobiletargeting\"\n        };\n      }\n\n  }\n\n  return Promise.resolve(__assign({\n    signingService: \"mobiletargeting\"\n  }, regionInfo));\n};","import { defaultRegionInfoProvider } from \"./endpoints\";\nimport { parseUrl } from \"@aws-sdk/url-parser\";\n/**\n * @internal\n */\n\nexport var ClientSharedValues = {\n  apiVersion: \"2016-12-01\",\n  disableHostPrefix: false,\n  logger: {},\n  regionInfoProvider: defaultRegionInfoProvider,\n  serviceId: \"Pinpoint\",\n  urlParser: parseUrl\n};","import { __assign } from \"tslib\";\nimport packageInfo from \"./package.json\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { FetchHttpHandler, streamCollector } from \"@aws-sdk/fetch-http-handler\";\nimport { invalidProvider } from \"@aws-sdk/invalid-dependency\";\nimport { DEFAULT_MAX_ATTEMPTS } from \"@aws-sdk/middleware-retry\";\nimport { fromBase64, toBase64 } from \"@aws-sdk/util-base64-browser\";\nimport { calculateBodyLength } from \"@aws-sdk/util-body-length-browser\";\nimport { defaultUserAgent } from \"@aws-sdk/util-user-agent-browser\";\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { ClientSharedValues } from \"./runtimeConfig.shared\";\n/**\n * @internal\n */\n\nexport var ClientDefaultValues = __assign(__assign({}, ClientSharedValues), {\n  runtime: \"browser\",\n  base64Decoder: fromBase64,\n  base64Encoder: toBase64,\n  bodyLengthChecker: calculateBodyLength,\n  credentialDefaultProvider: function credentialDefaultProvider(_) {\n    return function () {\n      return Promise.reject(new Error(\"Credential is missing\"));\n    };\n  },\n  defaultUserAgentProvider: defaultUserAgent({\n    serviceId: ClientSharedValues.serviceId,\n    clientVersion: packageInfo.version\n  }),\n  maxAttempts: DEFAULT_MAX_ATTEMPTS,\n  region: invalidProvider(\"Region is missing\"),\n  requestHandler: new FetchHttpHandler(),\n  sha256: Sha256,\n  streamCollector: streamCollector,\n  utf8Decoder: fromUtf8,\n  utf8Encoder: toUtf8\n});","import { __assign, __extends } from \"tslib\";\nimport { ClientDefaultValues as __ClientDefaultValues } from \"./runtimeConfig\";\nimport { resolveEndpointsConfig, resolveRegionConfig } from \"@aws-sdk/config-resolver\";\nimport { getContentLengthPlugin } from \"@aws-sdk/middleware-content-length\";\nimport { getHostHeaderPlugin, resolveHostHeaderConfig } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin } from \"@aws-sdk/middleware-logger\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@aws-sdk/middleware-retry\";\nimport { getAwsAuthPlugin, resolveAwsAuthConfig } from \"@aws-sdk/middleware-signing\";\nimport { getUserAgentPlugin, resolveUserAgentConfig } from \"@aws-sdk/middleware-user-agent\";\nimport { Client as __Client } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Doc Engage API - Amazon Pinpoint API</p>\n */\n\nvar PinpointClient =\n/** @class */\nfunction (_super) {\n  __extends(PinpointClient, _super);\n\n  function PinpointClient(configuration) {\n    var _this = this;\n\n    var _config_0 = __assign(__assign({}, __ClientDefaultValues), configuration);\n\n    var _config_1 = resolveRegionConfig(_config_0);\n\n    var _config_2 = resolveEndpointsConfig(_config_1);\n\n    var _config_3 = resolveAwsAuthConfig(_config_2);\n\n    var _config_4 = resolveRetryConfig(_config_3);\n\n    var _config_5 = resolveHostHeaderConfig(_config_4);\n\n    var _config_6 = resolveUserAgentConfig(_config_5);\n\n    _this = _super.call(this, _config_6) || this;\n    _this.config = _config_6;\n\n    _this.middlewareStack.use(getAwsAuthPlugin(_this.config));\n\n    _this.middlewareStack.use(getRetryPlugin(_this.config));\n\n    _this.middlewareStack.use(getContentLengthPlugin(_this.config));\n\n    _this.middlewareStack.use(getHostHeaderPlugin(_this.config));\n\n    _this.middlewareStack.use(getLoggerPlugin(_this.config));\n\n    _this.middlewareStack.use(getUserAgentPlugin(_this.config));\n\n    return _this;\n  }\n\n  PinpointClient.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n  };\n\n  return PinpointClient;\n}(__Client);\n\nexport { PinpointClient };","var __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { PutEventsCommand } from '@aws-sdk/client-pinpoint';\nimport { isAppInForeground } from '../utils/AppUtils';\nvar logger = new Logger('EventsBuffer');\nvar RETRYABLE_CODES = [429, 500];\nvar ACCEPTED_CODES = [202];\n\nvar EventsBuffer =\n/** @class */\nfunction () {\n  function EventsBuffer(client, config) {\n    this._pause = false;\n    this._flush = false;\n    logger.debug('Instantiating buffer with config:', config);\n    this._buffer = [];\n    this._client = client;\n    this._config = config;\n    this._sendBatch = this._sendBatch.bind(this);\n\n    this._startLoop();\n  }\n\n  EventsBuffer.prototype.push = function (event) {\n    var _a;\n\n    if (this._buffer > this._config.bufferSize) {\n      logger.debug('Exceeded analytics events buffer size');\n      return event.handlers.reject(new Error('Exceeded the size of analytics events buffer'));\n    }\n\n    var eventId = event.params.event.eventId;\n    var bufferElement = (_a = {}, _a[eventId] = event, _a);\n\n    this._buffer.push(bufferElement);\n  };\n\n  EventsBuffer.prototype.pause = function () {\n    this._pause = true;\n  };\n\n  EventsBuffer.prototype.resume = function () {\n    this._pause = false;\n  };\n\n  EventsBuffer.prototype.updateClient = function (client) {\n    this._client = client;\n  };\n\n  EventsBuffer.prototype.flush = function () {\n    this._flush = true;\n  };\n\n  EventsBuffer.prototype._startLoop = function () {\n    if (this._interval) {\n      clearInterval(this._interval);\n    }\n\n    var flushInterval = this._config.flushInterval;\n    this._interval = setInterval(this._sendBatch, flushInterval);\n  };\n\n  EventsBuffer.prototype._sendBatch = function () {\n    var bufferLength = this._buffer.length;\n\n    if (this._flush && !bufferLength) {\n      clearInterval(this._interval);\n    } // Do not send the batch of events if\n    // the Buffer is paused or is empty or the App is not in the foreground\n    // Apps should be in the foreground since\n    // the OS may restrict access to the network in the background\n\n\n    if (this._pause || !bufferLength || !isAppInForeground()) {\n      return;\n    }\n\n    var flushSize = this._config.flushSize;\n    var batchSize = Math.min(flushSize, bufferLength);\n\n    var bufferSubset = this._buffer.splice(0, batchSize);\n\n    this._putEvents(bufferSubset);\n  };\n\n  EventsBuffer.prototype._putEvents = function (buffer) {\n    return __awaiter(this, void 0, void 0, function () {\n      var eventMap, batchEventParams, command, data, err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            eventMap = this._bufferToMap(buffer);\n            batchEventParams = this._generateBatchEventParams(eventMap);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            command = new PutEventsCommand(batchEventParams);\n            return [4\n            /*yield*/\n            , this._client.send(command)];\n\n          case 2:\n            data = _a.sent();\n\n            this._processPutEventsSuccessResponse(data, eventMap);\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            err_1 = _a.sent();\n            return [2\n            /*return*/\n            , this._handlePutEventsFailure(err_1, eventMap)];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  EventsBuffer.prototype._generateBatchEventParams = function (eventMap) {\n    var batchEventParams = {\n      ApplicationId: '',\n      EventsRequest: {\n        BatchItem: {}\n      }\n    };\n    Object.values(eventMap).forEach(function (item) {\n      var params = item.params;\n      var event = params.event,\n          timestamp = params.timestamp,\n          config = params.config;\n      var name = event.name,\n          attributes = event.attributes,\n          metrics = event.metrics,\n          eventId = event.eventId,\n          session = event.session;\n      var appId = config.appId,\n          endpointId = config.endpointId;\n      var batchItem = batchEventParams.EventsRequest.BatchItem;\n      batchEventParams.ApplicationId = batchEventParams.ApplicationId || appId;\n\n      if (!batchItem[endpointId]) {\n        batchItem[endpointId] = {\n          Endpoint: {},\n          Events: {}\n        };\n      }\n\n      batchItem[endpointId].Events[eventId] = {\n        EventType: name,\n        Timestamp: new Date(timestamp).toISOString(),\n        Attributes: attributes,\n        Metrics: metrics,\n        Session: session\n      };\n    });\n    return batchEventParams;\n  };\n\n  EventsBuffer.prototype._handlePutEventsFailure = function (err, eventMap) {\n    logger.debug('_putEvents Failed: ', err);\n    var statusCode = err.$metadata && err.$metadata.httpStatusCode;\n\n    if (RETRYABLE_CODES.includes(statusCode)) {\n      var retryableEvents = Object.values(eventMap);\n\n      this._retry(retryableEvents);\n\n      return;\n    }\n  };\n\n  EventsBuffer.prototype._processPutEventsSuccessResponse = function (data, eventMap) {\n    var Results = data.EventsResponse.Results;\n    var retryableEvents = [];\n    Object.entries(Results).forEach(function (_a) {\n      var _b = __read(_a, 2),\n          endpointId = _b[0],\n          endpointValues = _b[1];\n\n      var responses = endpointValues.EventsItemResponse;\n      Object.entries(responses).forEach(function (_a) {\n        var _b, _c;\n\n        var _d = __read(_a, 2),\n            eventId = _d[0],\n            _e = _d[1],\n            StatusCode = _e.StatusCode,\n            Message = _e.Message;\n\n        var eventObject = eventMap[eventId]; // manually crafting handlers response to keep API consistant\n\n        var response = {\n          EventsResponse: {\n            Results: (_b = {}, _b[endpointId] = {\n              EventsItemResponse: (_c = {}, _c[eventId] = {\n                StatusCode: StatusCode,\n                Message: Message\n              }, _c)\n            }, _b)\n          }\n        };\n\n        if (ACCEPTED_CODES.includes(StatusCode)) {\n          eventObject.handlers.resolve(response);\n          return;\n        }\n\n        if (RETRYABLE_CODES.includes(StatusCode)) {\n          retryableEvents.push(eventObject);\n          return;\n        }\n\n        var name = eventObject.params.event.name;\n        logger.error(\"event \" + eventId + \" : \" + name + \" failed with error: \" + Message);\n        return eventObject.handlers.reject(response);\n      });\n    });\n\n    if (retryableEvents.length) {\n      this._retry(retryableEvents);\n    }\n  };\n\n  EventsBuffer.prototype._retry = function (retryableEvents) {\n    var _a; // retryable events that haven't reached the resendLimit\n\n\n    var eligibleEvents = [];\n    retryableEvents.forEach(function (event) {\n      var _a;\n\n      var params = event.params;\n      var _b = params.event,\n          eventId = _b.eventId,\n          name = _b.name;\n\n      if (params.resendLimit-- > 0) {\n        logger.debug(\"resending event \" + eventId + \" : \" + name + \" with \" + params.resendLimit + \" retry attempts remaining\");\n        eligibleEvents.push((_a = {}, _a[eventId] = event, _a));\n        return;\n      }\n\n      logger.debug(\"no retry attempts remaining for event \" + eventId + \" : \" + name);\n    }); // add the events to the front of the buffer\n\n    (_a = this._buffer).unshift.apply(_a, __spread(eligibleEvents));\n  }; // convert buffer to map, i.e. { eventId1: { params, handler }, eventId2: { params, handlers } }\n  // this allows us to easily access the handlers after receiving a batch response\n\n\n  EventsBuffer.prototype._bufferToMap = function (buffer) {\n    return buffer.reduce(function (acc, curVal) {\n      var _a = __read(Object.entries(curVal), 1),\n          _b = __read(_a[0], 2),\n          key = _b[0],\n          value = _b[1];\n\n      acc[key] = value;\n      return acc;\n    }, {});\n  };\n\n  return EventsBuffer;\n}();\n\nexport default EventsBuffer;","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { ConsoleLogger as Logger, ClientDevice, Credentials, Signer, JS, Hub, getAmplifyUserAgent } from '@aws-amplify/core';\nimport { PinpointClient, PutEventsCommand, UpdateEndpointCommand } from '@aws-sdk/client-pinpoint';\nimport Cache from '@aws-amplify/cache';\nimport { v1 as uuid } from 'uuid';\nimport EventsBuffer from './EventBuffer';\nvar AMPLIFY_SYMBOL = typeof Symbol !== 'undefined' && typeof Symbol.for === 'function' ? Symbol.for('amplify_default') : '@@amplify_default';\n\nvar dispatchAnalyticsEvent = function dispatchAnalyticsEvent(event, data) {\n  Hub.dispatch('analytics', {\n    event: event,\n    data: data\n  }, 'Analytics', AMPLIFY_SYMBOL);\n};\n\nvar logger = new Logger('AWSPinpointProvider');\nvar RETRYABLE_CODES = [429, 500];\nvar ACCEPTED_CODES = [202];\nvar FORBIDDEN_CODE = 403;\nvar MOBILE_SERVICE_NAME = 'mobiletargeting';\nvar EXPIRED_TOKEN_CODE = 'ExpiredTokenException';\nvar UPDATE_ENDPOINT = '_update_endpoint';\nvar SESSION_START = '_session.start';\nvar SESSION_STOP = '_session.stop';\nvar BEACON_SUPPORTED = typeof navigator !== 'undefined' && navigator && typeof navigator.sendBeacon === 'function'; // events buffer\n\nvar BUFFER_SIZE = 1000;\nvar FLUSH_SIZE = 100;\nvar FLUSH_INTERVAL = 5 * 1000; // 5s\n\nvar RESEND_LIMIT = 5; // params: { event: {name: , .... }, timeStamp, config, resendLimits }\n\nvar AWSPinpointProvider =\n/** @class */\nfunction () {\n  function AWSPinpointProvider(config) {\n    this._endpointGenerating = true;\n    this._endpointUpdateInProgress = false;\n    this._buffer = null;\n    this._endpointBuffer = [];\n    this._config = config ? config : {};\n    this._config.bufferSize = this._config.bufferSize || BUFFER_SIZE;\n    this._config.flushSize = this._config.flushSize || FLUSH_SIZE;\n    this._config.flushInterval = this._config.flushInterval || FLUSH_INTERVAL;\n    this._config.resendLimit = this._config.resendLimit || RESEND_LIMIT;\n    this._clientInfo = ClientDevice.clientInfo();\n  }\n  /**\n   * get the category of the plugin\n   */\n\n\n  AWSPinpointProvider.prototype.getCategory = function () {\n    return AWSPinpointProvider.category;\n  };\n  /**\n   * get provider name of the plugin\n   */\n\n\n  AWSPinpointProvider.prototype.getProviderName = function () {\n    return AWSPinpointProvider.providerName;\n  };\n  /**\n   * configure the plugin\n   * @param {Object} config - configuration\n   */\n\n\n  AWSPinpointProvider.prototype.configure = function (config) {\n    var _this = this;\n\n    logger.debug('configure Analytics', config);\n    var conf = config || {};\n    this._config = Object.assign({}, this._config, conf); // If autoSessionRecord is enabled, we need to wait for the endpoint to be\n    // updated before sending any events. See `sendEvents` in `Analytics.ts`\n\n    this._endpointGenerating = !!config['autoSessionRecord'];\n\n    if (this._config.appId && !this._config.disabled) {\n      if (!this._config.endpointId) {\n        var cacheKey = this.getProviderName() + '_' + this._config.appId;\n\n        this._getEndpointId(cacheKey).then(function (endpointId) {\n          logger.debug('setting endpoint id from the cache', endpointId);\n          _this._config.endpointId = endpointId;\n          dispatchAnalyticsEvent('pinpointProvider_configured', null);\n        }).catch(function (err) {\n          logger.debug('Failed to generate endpointId', err);\n        });\n      } else {\n        dispatchAnalyticsEvent('pinpointProvider_configured', null);\n      }\n    } else {\n      this._flushBuffer();\n    }\n\n    return this._config;\n  };\n  /**\n   * record an event\n   * @param {Object} params - the params of an event\n   */\n\n\n  AWSPinpointProvider.prototype.record = function (params, handlers) {\n    return __awaiter(this, void 0, void 0, function () {\n      var credentials, timestamp;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            logger.debug('_public record', params);\n            return [4\n            /*yield*/\n            , this._getCredentials()];\n\n          case 1:\n            credentials = _a.sent();\n\n            if (!credentials || !this._config.appId || !this._config.region) {\n              logger.debug('cannot send events without credentials, applicationId or region');\n              return [2\n              /*return*/\n              , handlers.reject(new Error('No credentials, applicationId or region'))];\n            }\n\n            this._initClients(credentials);\n\n            timestamp = new Date().getTime(); // attach the session and eventId\n\n            this._generateSession(params);\n\n            params.event.eventId = uuid();\n            Object.assign(params, {\n              timestamp: timestamp,\n              config: this._config\n            });\n\n            if (params.event.immediate) {\n              return [2\n              /*return*/\n              , this._send(params, handlers)];\n            } else {\n              this._putToBuffer(params, handlers);\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSPinpointProvider.prototype._sendEndpointUpdate = function (endpointObject) {\n    return __awaiter(this, void 0, void 0, function () {\n      var next;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (this._endpointUpdateInProgress) {\n              this._endpointBuffer.push(endpointObject);\n\n              return [2\n              /*return*/\n              ];\n            }\n\n            this._endpointUpdateInProgress = true;\n            return [4\n            /*yield*/\n            , this._updateEndpoint(endpointObject)];\n\n          case 1:\n            _a.sent();\n\n            next = this._endpointBuffer.shift();\n            this._endpointUpdateInProgress = false;\n            next && this._sendEndpointUpdate(next);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n  /**\n   * @private\n   * @param params - params for event recording\n   * Put events into buffer\n   */\n\n\n  AWSPinpointProvider.prototype._putToBuffer = function (params, handlers) {\n    if (params.event.name === UPDATE_ENDPOINT) {\n      this._sendEndpointUpdate({\n        params: params,\n        handlers: handlers\n      });\n\n      return;\n    }\n\n    this._buffer && this._buffer.push({\n      params: params,\n      handlers: handlers\n    });\n  };\n\n  AWSPinpointProvider.prototype._generateSession = function (params) {\n    this._sessionId = this._sessionId || uuid();\n    var event = params.event;\n\n    switch (event.name) {\n      case SESSION_START:\n        // refresh the session id and session start time\n        this._sessionStartTimestamp = new Date().getTime();\n        this._sessionId = uuid();\n        event.session = {\n          Id: this._sessionId,\n          StartTimestamp: new Date(this._sessionStartTimestamp).toISOString()\n        };\n        break;\n\n      case SESSION_STOP:\n        var stopTimestamp = new Date().getTime();\n        this._sessionStartTimestamp = this._sessionStartTimestamp || new Date().getTime();\n        this._sessionId = this._sessionId || uuid();\n        event.session = {\n          Id: this._sessionId,\n          Duration: stopTimestamp - this._sessionStartTimestamp,\n          StartTimestamp: new Date(this._sessionStartTimestamp).toISOString(),\n          StopTimestamp: new Date(stopTimestamp).toISOString()\n        };\n        this._sessionId = undefined;\n        this._sessionStartTimestamp = undefined;\n        break;\n\n      default:\n        this._sessionStartTimestamp = this._sessionStartTimestamp || new Date().getTime();\n        this._sessionId = this._sessionId || uuid();\n        event.session = {\n          Id: this._sessionId,\n          StartTimestamp: new Date(this._sessionStartTimestamp).toISOString()\n        };\n    }\n  };\n\n  AWSPinpointProvider.prototype._send = function (params, handlers) {\n    return __awaiter(this, void 0, void 0, function () {\n      var event;\n      return __generator(this, function (_a) {\n        event = params.event;\n\n        switch (event.name) {\n          case UPDATE_ENDPOINT:\n            return [2\n            /*return*/\n            , this._updateEndpoint({\n              params: params,\n              handlers: handlers\n            })];\n\n          case SESSION_STOP:\n            return [2\n            /*return*/\n            , this._pinpointSendStopSession(params, handlers)];\n\n          default:\n            return [2\n            /*return*/\n            , this._pinpointPutEvents(params, handlers)];\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  AWSPinpointProvider.prototype._generateBatchItemContext = function (params) {\n    var _a;\n\n    var event = params.event,\n        timestamp = params.timestamp,\n        config = params.config;\n    var name = event.name,\n        attributes = event.attributes,\n        metrics = event.metrics,\n        eventId = event.eventId,\n        session = event.session;\n    var appId = config.appId,\n        endpointId = config.endpointId;\n    var endpointContext = {};\n    var eventParams = {\n      ApplicationId: appId,\n      EventsRequest: {\n        BatchItem: {}\n      }\n    };\n    var endpointObj = {};\n    endpointObj.Endpoint = endpointContext;\n    endpointObj.Events = (_a = {}, _a[eventId] = {\n      EventType: name,\n      Timestamp: new Date(timestamp).toISOString(),\n      Attributes: attributes,\n      Metrics: metrics,\n      Session: session\n    }, _a);\n    eventParams.EventsRequest.BatchItem[endpointId] = endpointObj;\n    return eventParams;\n  };\n\n  AWSPinpointProvider.prototype._pinpointPutEvents = function (params, handlers) {\n    return __awaiter(this, void 0, void 0, function () {\n      var eventId, endpointId, eventParams, command, data, _a, _b, _c, _d, StatusCode, Message, err_1;\n\n      return __generator(this, function (_e) {\n        switch (_e.label) {\n          case 0:\n            eventId = params.event.eventId, endpointId = params.config.endpointId;\n            eventParams = this._generateBatchItemContext(params);\n            command = new PutEventsCommand(eventParams);\n            _e.label = 1;\n\n          case 1:\n            _e.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , this.pinpointClient.send(command)];\n\n          case 2:\n            data = _e.sent();\n            _a = data, _b = endpointId, _c = eventId, _d = _a.EventsResponse.Results[_b].EventsItemResponse[_c], StatusCode = _d.StatusCode, Message = _d.Message;\n\n            if (ACCEPTED_CODES.includes(StatusCode)) {\n              logger.debug('record event success. ', data);\n              return [2\n              /*return*/\n              , handlers.resolve(data)];\n            } else {\n              if (RETRYABLE_CODES.includes(StatusCode)) {\n                this._retry(params, handlers);\n              } else {\n                logger.error(\"Event \" + eventId + \" is not accepted, the error is \" + Message);\n                return [2\n                /*return*/\n                , handlers.reject(data)];\n              }\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            err_1 = _e.sent();\n\n            this._eventError(err_1);\n\n            return [2\n            /*return*/\n            , handlers.reject(err_1)];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSPinpointProvider.prototype._pinpointSendStopSession = function (params, handlers) {\n    if (!BEACON_SUPPORTED) {\n      this._pinpointPutEvents(params, handlers);\n\n      return;\n    }\n\n    var eventParams = this._generateBatchItemContext(params);\n\n    var region = this._config.region;\n    var ApplicationId = eventParams.ApplicationId,\n        EventsRequest = eventParams.EventsRequest;\n    var accessInfo = {\n      secret_key: this._config.credentials.secretAccessKey,\n      access_key: this._config.credentials.accessKeyId,\n      session_token: this._config.credentials.sessionToken\n    };\n    var url = \"https://pinpoint.\" + region + \".amazonaws.com/v1/apps/\" + ApplicationId + \"/events/legacy\";\n    var body = JSON.stringify(EventsRequest);\n    var method = 'POST';\n    var request = {\n      url: url,\n      body: body,\n      method: method\n    };\n    var serviceInfo = {\n      region: region,\n      service: MOBILE_SERVICE_NAME\n    };\n    var requestUrl = Signer.signUrl(request, accessInfo, serviceInfo, null);\n    var success = navigator.sendBeacon(requestUrl, body);\n\n    if (success) {\n      return handlers.resolve('sendBeacon success');\n    }\n\n    return handlers.reject('sendBeacon failure');\n  };\n\n  AWSPinpointProvider.prototype._retry = function (params, handlers) {\n    var resendLimit = params.config.resendLimit; // For backward compatibility\n\n    params.resendLimit = typeof params.resendLimit === 'number' ? params.resendLimit : resendLimit;\n\n    if (params.resendLimit-- > 0) {\n      logger.debug(\"resending event \" + params.eventName + \" with \" + params.resendLimit + \" retry times left\");\n\n      this._pinpointPutEvents(params, handlers);\n    } else {\n      logger.debug(\"retry times used up for event \" + params.eventName);\n    }\n  };\n\n  AWSPinpointProvider.prototype._updateEndpoint = function (endpointObject) {\n    return __awaiter(this, void 0, void 0, function () {\n      var params, handlers, config, event, appId, endpointId, request, update_params, command, data, err_2, failureData;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            params = endpointObject.params, handlers = endpointObject.handlers;\n            config = params.config, event = params.event;\n            appId = config.appId, endpointId = config.endpointId;\n            request = this._endpointRequest(config, JS.transferKeyToLowerCase(event, [], ['attributes', 'userAttributes', 'Attributes', 'UserAttributes']));\n            update_params = {\n              ApplicationId: appId,\n              EndpointId: endpointId,\n              EndpointRequest: request\n            };\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            command = new UpdateEndpointCommand(update_params);\n            return [4\n            /*yield*/\n            , this.pinpointClient.send(command)];\n\n          case 2:\n            data = _a.sent();\n            logger.debug('updateEndpoint success', data);\n            this._endpointGenerating = false;\n\n            this._resumeBuffer();\n\n            handlers.resolve(data);\n            return [2\n            /*return*/\n            ];\n\n          case 3:\n            err_2 = _a.sent();\n            failureData = {\n              err: err_2,\n              update_params: update_params,\n              endpointObject: endpointObject\n            };\n            return [2\n            /*return*/\n            , this._handleEndpointUpdateFailure(failureData)];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSPinpointProvider.prototype._handleEndpointUpdateFailure = function (failureData) {\n    return __awaiter(this, void 0, void 0, function () {\n      var err, endpointObject, statusCode, exponential;\n      return __generator(this, function (_a) {\n        err = failureData.err, endpointObject = failureData.endpointObject;\n        statusCode = err.$metadata && err.$metadata.httpStatusCode;\n        logger.debug('updateEndpoint error', err);\n\n        switch (statusCode) {\n          case FORBIDDEN_CODE:\n            return [2\n            /*return*/\n            , this._handleEndpointUpdateForbidden(failureData)];\n\n          default:\n            if (RETRYABLE_CODES.includes(statusCode)) {\n              exponential = true;\n              return [2\n              /*return*/\n              , this._retryEndpointUpdate(endpointObject, exponential)];\n            }\n\n            logger.error('updateEndpoint failed', err);\n            endpointObject.handlers.reject(err);\n        }\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  AWSPinpointProvider.prototype._handleEndpointUpdateForbidden = function (failureData) {\n    var err = failureData.err,\n        endpointObject = failureData.endpointObject;\n    var code = err.code,\n        retryable = err.retryable;\n\n    if (code !== EXPIRED_TOKEN_CODE && !retryable) {\n      return endpointObject.handlers.reject(err);\n    }\n\n    this._retryEndpointUpdate(endpointObject);\n  };\n\n  AWSPinpointProvider.prototype._retryEndpointUpdate = function (endpointObject, exponential) {\n    if (exponential === void 0) {\n      exponential = false;\n    }\n\n    logger.debug('_retryEndpointUpdate', endpointObject);\n    var params = endpointObject.params; // TODO: implement retry with exp back off once exp function is available\n\n    var resendLimit = params.config.resendLimit;\n    params.resendLimit = typeof params.resendLimit === 'number' ? params.resendLimit : resendLimit;\n\n    if (params.resendLimit-- > 0) {\n      logger.debug(\"resending endpoint update \" + params.event.eventId + \" with \" + params.resendLimit + \" retry attempts remaining\"); // insert at the front of endpointBuffer\n\n      this._endpointBuffer.length ? this._endpointBuffer.unshift(endpointObject) : this._updateEndpoint(endpointObject);\n      return;\n    }\n\n    logger.warn(\"resending endpoint update \" + params.event.eventId + \" failed after \" + params.config.resendLimit + \" attempts\");\n\n    if (this._endpointGenerating) {\n      logger.error('Initial endpoint update failed. ');\n    }\n  };\n  /**\n   * @private\n   * @param config\n   * Init the clients\n   */\n\n\n  AWSPinpointProvider.prototype._initClients = function (credentials) {\n    return __awaiter(this, void 0, void 0, function () {\n      var identityId, region;\n      return __generator(this, function (_a) {\n        logger.debug('init clients');\n\n        if (this.pinpointClient && this._config.credentials && this._config.credentials.sessionToken === credentials.sessionToken && this._config.credentials.identityId === credentials.identityId) {\n          logger.debug('no change for aws credentials, directly return from init');\n          return [2\n          /*return*/\n          ];\n        }\n\n        identityId = this._config.credentials ? this._config.credentials.identityId : null;\n        this._config.credentials = credentials;\n        region = this._config.region;\n        logger.debug('init clients with credentials', credentials);\n        this.pinpointClient = new PinpointClient({\n          region: region,\n          credentials: credentials,\n          customUserAgent: getAmplifyUserAgent()\n        }); // TODO: remove this middleware once a long term fix is implemented by aws-sdk-js team.\n\n        this.pinpointClient.middlewareStack.addRelativeTo(function (next) {\n          return function (args) {\n            delete args.request.headers['amz-sdk-invocation-id'];\n            delete args.request.headers['amz-sdk-request'];\n            return next(args);\n          };\n        }, {\n          step: 'finalizeRequest',\n          relation: 'after',\n          toMiddleware: 'retryMiddleware'\n        });\n\n        if (this._bufferExists() && identityId === credentials.identityId) {\n          // if the identity has remained the same, pass the updated client to the buffer\n          this._updateBufferClient();\n        } else {\n          // otherwise flush the buffer and instantiate a new one\n          // this will cause the old buffer to send any remaining events\n          // with the old credentials and then stop looping and shortly thereafter get picked up by GC\n          this._initBuffer();\n        }\n\n        this._customizePinpointClientReq();\n\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  AWSPinpointProvider.prototype._bufferExists = function () {\n    return this._buffer && this._buffer instanceof EventsBuffer;\n  };\n\n  AWSPinpointProvider.prototype._initBuffer = function () {\n    if (this._bufferExists()) {\n      this._flushBuffer();\n    }\n\n    this._buffer = new EventsBuffer(this.pinpointClient, this._config); // if the first endpoint update hasn't yet resolved pause the buffer to\n    // prevent race conditions. It will be resumed as soon as that request succeeds\n\n    if (this._endpointGenerating) {\n      this._buffer.pause();\n    }\n  };\n\n  AWSPinpointProvider.prototype._updateBufferClient = function () {\n    if (this._bufferExists()) {\n      this._buffer.updateClient(this.pinpointClient);\n    }\n  };\n\n  AWSPinpointProvider.prototype._flushBuffer = function () {\n    if (this._bufferExists()) {\n      this._buffer.flush();\n\n      this._buffer = null;\n    }\n  };\n\n  AWSPinpointProvider.prototype._resumeBuffer = function () {\n    if (this._bufferExists()) {\n      this._buffer.resume();\n    }\n  };\n\n  AWSPinpointProvider.prototype._customizePinpointClientReq = function () {// TODO FIXME: Find a middleware to do this with AWS V3 SDK\n    // if (Platform.isReactNative) {\n    // \tthis.pinpointClient.customizeRequests(request => {\n    // \t\trequest.on('build', req => {\n    // \t\t\treq.httpRequest.headers['user-agent'] = Platform.userAgent;\n    // \t\t});\n    // \t});\n    // }\n  };\n\n  AWSPinpointProvider.prototype._getEndpointId = function (cacheKey) {\n    return __awaiter(this, void 0, void 0, function () {\n      var endpointId, ttl, expiration;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , Cache.getItem(cacheKey)];\n\n          case 1:\n            endpointId = _a.sent();\n            logger.debug('endpointId from cache', endpointId, 'type', typeof endpointId);\n\n            if (!endpointId) {\n              endpointId = uuid();\n              ttl = 1000 * 60 * 60 * 24 * 365 * 100;\n              expiration = new Date().getTime() + ttl;\n              Cache.setItem(cacheKey, endpointId, {\n                expires: expiration,\n                priority: 1\n              });\n            }\n\n            return [2\n            /*return*/\n            , endpointId];\n        }\n      });\n    });\n  };\n  /**\n   * EndPoint request\n   * @return {Object} - The request of updating endpoint\n   */\n\n\n  AWSPinpointProvider.prototype._endpointRequest = function (config, event) {\n    var credentials = config.credentials;\n    var clientInfo = this._clientInfo || {};\n    var clientContext = config.clientContext || {}; // for now we have three different ways for default endpoint configurations\n    // clientInfo\n    // clientContext (deprecated)\n    // config.endpoint\n\n    var defaultEndpointConfig = config.endpoint || {};\n    var demographicByClientInfo = {\n      appVersion: clientInfo.appVersion,\n      make: clientInfo.make,\n      model: clientInfo.model,\n      modelVersion: clientInfo.version,\n      platform: clientInfo.platform\n    }; // for backward compatibility\n\n    var clientId = clientContext.clientId,\n        appTitle = clientContext.appTitle,\n        appVersionName = clientContext.appVersionName,\n        appVersionCode = clientContext.appVersionCode,\n        appPackageName = clientContext.appPackageName,\n        demographicByClientContext = __rest(clientContext, [\"clientId\", \"appTitle\", \"appVersionName\", \"appVersionCode\", \"appPackageName\"]);\n\n    var channelType = event.address ? clientInfo.platform === 'android' ? 'GCM' : 'APNS' : undefined;\n\n    var tmp = __assign(__assign(__assign({\n      channelType: channelType,\n      requestId: uuid(),\n      effectiveDate: new Date().toISOString()\n    }, defaultEndpointConfig), event), {\n      attributes: __assign(__assign({}, defaultEndpointConfig.attributes), event.attributes),\n      demographic: __assign(__assign(__assign(__assign({}, demographicByClientInfo), demographicByClientContext), defaultEndpointConfig.demographic), event.demographic),\n      location: __assign(__assign({}, defaultEndpointConfig.location), event.location),\n      metrics: __assign(__assign({}, defaultEndpointConfig.metrics), event.metrics),\n      user: {\n        userId: event.userId || defaultEndpointConfig.userId || credentials.identityId,\n        userAttributes: __assign(__assign({}, defaultEndpointConfig.userAttributes), event.userAttributes)\n      }\n    }); // eliminate unnecessary params\n\n\n    var userId = tmp.userId,\n        userAttributes = tmp.userAttributes,\n        name = tmp.name,\n        session = tmp.session,\n        eventId = tmp.eventId,\n        immediate = tmp.immediate,\n        ret = __rest(tmp, [\"userId\", \"userAttributes\", \"name\", \"session\", \"eventId\", \"immediate\"]);\n\n    return JS.transferKeyToUpperCase(ret, [], ['metrics', 'userAttributes', 'attributes']);\n  };\n\n  AWSPinpointProvider.prototype._eventError = function (err) {\n    logger.error('record event failed.', err);\n    logger.warn(\"Please ensure you have updated your Pinpoint IAM Policy \" + \"with the Action: \\\"mobiletargeting:PutEvents\\\" \" + \"in order to record events\");\n  };\n\n  AWSPinpointProvider.prototype._getCredentials = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var credentials, err_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            return [4\n            /*yield*/\n            , Credentials.get()];\n\n          case 1:\n            credentials = _a.sent();\n            if (!credentials) return [2\n            /*return*/\n            , null];\n            logger.debug('set credentials for analytics', credentials);\n            return [2\n            /*return*/\n            , Credentials.shear(credentials)];\n\n          case 2:\n            err_3 = _a.sent();\n            logger.debug('ensure credentials error', err_3);\n            return [2\n            /*return*/\n            , null];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  AWSPinpointProvider.category = 'Analytics';\n  AWSPinpointProvider.providerName = 'AWSPinpoint';\n  return AWSPinpointProvider;\n}();\n\nexport { AWSPinpointProvider };\n/**\n * @deprecated use named import\n */\n\nexport default AWSPinpointProvider;","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n};\n\nvar __spread = this && this.__spread || function () {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n};\n\nvar lists = [];\n\nvar MethodEmbed =\n/** @class */\nfunction () {\n  function MethodEmbed(context, methodName) {\n    this.context = context;\n    this.methodName = methodName;\n    this._originalMethod = context[methodName].bind(context);\n  }\n\n  MethodEmbed.add = function (context, methodName, methodOverride) {\n    getInstance(context, methodName).set(methodOverride);\n  };\n\n  MethodEmbed.remove = function (context, methodName) {\n    getInstance(context, methodName).remove();\n  };\n\n  MethodEmbed.prototype.set = function (methodOverride) {\n    var _this = this;\n\n    this.context[this.methodName] = function () {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      return methodOverride(_this._originalMethod.apply(_this, __spread(args)));\n    };\n  };\n\n  MethodEmbed.prototype.remove = function () {\n    this.context[this.methodName] = this._originalMethod;\n  };\n\n  return MethodEmbed;\n}();\n\nexport { MethodEmbed };\n\nfunction getInstance(context, methodName) {\n  var instance = lists.filter(function (h) {\n    return h.context === context && h.methodName === methodName;\n  })[0];\n\n  if (!instance) {\n    instance = new MethodEmbed(context, methodName);\n    lists.push(instance);\n  }\n\n  return instance;\n}\n/**\n * @deprecated use named import\n */\n\n\nexport default MethodEmbed;","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { MethodEmbed } from '../utils/MethodEmbed';\nimport { ConsoleLogger as Logger, JS } from '@aws-amplify/core';\nvar logger = new Logger('PageViewTracker');\nvar PREV_URL_KEY = 'aws-amplify-analytics-prevUrl';\n\nvar getUrl = function getUrl() {\n  if (!JS.browserOrNode().isBrowser) return '';else return window.location.origin + window.location.pathname;\n};\n\nvar defaultOpts = {\n  enable: false,\n  provider: 'AWSPinpoint',\n  getUrl: getUrl\n};\n\nvar PageViewTracker =\n/** @class */\nfunction () {\n  function PageViewTracker(tracker, opts) {\n    logger.debug('initialize pageview tracker with opts', opts);\n    this._config = Object.assign({}, defaultOpts, opts);\n    this._tracker = tracker;\n    this._hasEnabled = false;\n    this._trackFunc = this._trackFunc.bind(this);\n\n    if (this._config.type === 'SPA') {\n      this._pageViewTrackSPA();\n    } else {\n      this._pageViewTrackDefault();\n    }\n  }\n\n  PageViewTracker.prototype.configure = function (opts) {\n    Object.assign(this._config, opts); // if spa, need to remove those listeners if disabled\n\n    if (this._config.type === 'SPA') {\n      this._pageViewTrackSPA();\n    }\n\n    return this._config;\n  };\n\n  PageViewTracker.prototype._isSameUrl = function () {\n    var prevUrl = sessionStorage.getItem(PREV_URL_KEY);\n\n    var curUrl = this._config.getUrl();\n\n    if (prevUrl === curUrl) {\n      logger.debug('the url is same');\n      return true;\n    } else return false;\n  };\n\n  PageViewTracker.prototype._pageViewTrackDefault = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var url, customAttrs, _a, attributes;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!JS.browserOrNode().isBrowser || !window.addEventListener || !window.sessionStorage) {\n              logger.debug('not in the supported web enviroment');\n              return [2\n              /*return*/\n              ];\n            }\n\n            url = this._config.getUrl();\n            if (!(typeof this._config.attributes === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this._config.attributes()];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = this._config.attributes;\n            _b.label = 3;\n\n          case 3:\n            customAttrs = _a;\n            attributes = Object.assign({\n              url: url\n            }, customAttrs);\n\n            if (this._config.enable && !this._isSameUrl()) {\n              this._tracker({\n                name: this._config.eventName || 'pageView',\n                attributes: attributes\n              }, this._config.provider).catch(function (e) {\n                logger.debug('Failed to record the page view event', e);\n              });\n\n              sessionStorage.setItem(PREV_URL_KEY, url);\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  PageViewTracker.prototype._trackFunc = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var url, customAttrs, _a, attributes;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!JS.browserOrNode().isBrowser || !window.addEventListener || !history.pushState || !window.sessionStorage) {\n              logger.debug('not in the supported web enviroment');\n              return [2\n              /*return*/\n              ];\n            }\n\n            url = this._config.getUrl();\n            if (!(typeof this._config.attributes === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this._config.attributes()];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = this._config.attributes;\n            _b.label = 3;\n\n          case 3:\n            customAttrs = _a;\n            attributes = Object.assign({\n              url: url\n            }, customAttrs);\n\n            if (!this._isSameUrl()) {\n              this._tracker({\n                name: this._config.eventName || 'pageView',\n                attributes: attributes\n              }, this._config.provider).catch(function (e) {\n                logger.debug('Failed to record the page view event', e);\n              });\n\n              sessionStorage.setItem(PREV_URL_KEY, url);\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  PageViewTracker.prototype._pageViewTrackSPA = function () {\n    if (!JS.browserOrNode().isBrowser || !window.addEventListener || !history.pushState) {\n      logger.debug('not in the supported web enviroment');\n      return;\n    }\n\n    if (this._config.enable && !this._hasEnabled) {\n      MethodEmbed.add(history, 'pushState', this._trackFunc);\n      MethodEmbed.add(history, 'replaceState', this._trackFunc);\n      window.addEventListener('popstate', this._trackFunc);\n\n      this._trackFunc();\n\n      this._hasEnabled = true;\n    } else {\n      MethodEmbed.remove(history, 'pushState');\n      MethodEmbed.remove(history, 'replaceState');\n      window.removeEventListener('popstate', this._trackFunc);\n      this._hasEnabled = false;\n    }\n  };\n\n  return PageViewTracker;\n}();\n\nexport { PageViewTracker };\n/**\n * @deprecated use named import\n */\n\nexport default PageViewTracker;","/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nimport { JS } from '@aws-amplify/core';\nvar proto = JS.browserOrNode().isBrowser && window['Element'] ? window['Element'].prototype : null;\nvar nativeMatches = proto ? proto.matches || // @ts-ignore\nproto.matchesSelector || // @ts-ignore\nproto.webkitMatchesSelector || // @ts-ignore\nproto.mozMatchesSelector || // @ts-ignore\nproto.msMatchesSelector || // @ts-ignore\nproto.oMatchesSelector : null;\n/**\n * Tests if a DOM elements matches any of the test DOM elements or selectors.\n * @param {Element} element The DOM element to test.\n * @param {Element|string|Array<Element|string>} test A DOM element, a CSS\n *     selector, or an array of DOM elements or CSS selectors to match against.\n * @return {boolean} True of any part of the test matches.\n */\n\nexport function matches(element, test) {\n  // Validate input.\n  if (element && element.nodeType === 1 && test) {\n    // if test is a string or DOM element test it.\n    if (typeof test === 'string' || test.nodeType === 1) {\n      return element === test || matchesSelector(element,\n      /** @type {string} */\n      test);\n    } else if ('length' in test) {\n      // if it has a length property iterate over the items\n      // and return true if any match.\n      for (var i = 0, item = void 0; item = test[i]; i++) {\n        if (element === item || matchesSelector(element, item)) return true;\n      }\n    }\n  } // Still here? Return false\n\n\n  return false;\n}\n/**\n * Tests whether a DOM element matches a selector. This polyfills the native\n * Element.prototype.matches method across browsers.\n * @param {!Element} element The DOM element to test.\n * @param {string} selector The CSS selector to test element against.\n * @return {boolean} True if the selector matches.\n */\n\nfunction matchesSelector(element, selector) {\n  if (typeof selector !== 'string') return false;\n  if (nativeMatches) return nativeMatches.call(element, selector);\n  var nodes = element.parentNode.querySelectorAll(selector);\n\n  for (var i = 0, node = void 0; node = nodes[i]; i++) {\n    if (node === element) return true;\n  }\n\n  return false;\n}","/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nimport { closest } from './closest';\nimport { matches } from './matches';\n/**\n * Delegates the handling of events for an element matching a selector to an\n * ancestor of the matching element.\n * @param {!Node} ancestor The ancestor element to add the listener to.\n * @param {string} eventType The event type to listen to.\n * @param {string} selector A CSS selector to match against child elements.\n * @param {!Function} callback A function to run any time the event happens.\n * @param {Object=} opts A configuration options object. The available options:\n *     - useCapture<boolean>: If true, bind to the event capture phase.\n *     - deep<boolean>: If true, delegate into shadow trees.\n * @return {Object} The delegate object. It contains a destroy method.\n */\n\nexport function delegate(ancestor, eventType, selector, callback, opts) {\n  if (opts === void 0) {\n    opts = {};\n  } // Defines the event listener.\n\n\n  var listener = function listener(event) {\n    var delegateTarget; // If opts.composed is true and the event originated from inside a Shadow\n    // tree, check the composed path nodes.\n\n    if (opts['composed'] && typeof event['composedPath'] === 'function') {\n      var composedPath = event.composedPath();\n\n      for (var i = 0, node = void 0; node = composedPath[i]; i++) {\n        if (node.nodeType === 1 && matches(node, selector)) {\n          delegateTarget = node;\n        }\n      }\n    } else {\n      // Otherwise check the parents.\n      delegateTarget = closest(event.target, selector, true);\n    }\n\n    if (delegateTarget) {\n      callback.call(delegateTarget, event, delegateTarget);\n    }\n  };\n\n  ancestor.addEventListener(eventType, listener, opts['useCapture']);\n  return {\n    destroy: function destroy() {\n      ancestor.removeEventListener(eventType, listener, opts['useCapture']);\n    }\n  };\n}","/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\nimport { matches } from './matches';\nimport { parents } from './parents';\n/**\n * Gets the closest parent element that matches the passed selector.\n * @param {Element} element The element whose parents to check.\n * @param {string} selector The CSS selector to match against.\n * @param {boolean=} shouldCheckSelf True if the selector should test against\n *     the passed element itself.\n * @return {Element|undefined} The matching element or undefined.\n */\n\nexport function closest(element, selector, shouldCheckSelf) {\n  if (shouldCheckSelf === void 0) {\n    shouldCheckSelf = false;\n  }\n\n  if (!(element && element.nodeType === 1 && selector)) return;\n  var parentElements = (shouldCheckSelf ? [element] : []).concat(parents(element));\n\n  for (var i = 0, parent_1; parent_1 = parentElements[i]; i++) {\n    if (matches(parent_1, selector)) return parent_1;\n  }\n}","/**\n * Copyright (c) 2017, Philip Walton <philip@philipwalton.com>\n */\n\n/**\n * Returns an array of a DOM element's parent elements.\n * @param {!Element} element The DOM element whose parents to get.\n * @return {!Array} An array of all parent elemets, or an empty array if no\n *     parent elements are found.\n */\nexport function parents(ele) {\n  var list = [];\n  var element = ele;\n\n  while (element && element.parentNode && element.parentNode.nodeType === 1) {\n    element =\n    /** @type {!Element} */\n    element.parentNode;\n    list.push(element);\n  }\n\n  return list;\n}","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { delegate } from '../vendor/dom-utils';\nimport { ConsoleLogger as Logger, JS } from '@aws-amplify/core';\nvar logger = new Logger('EventTracker');\nvar defaultOpts = {\n  enable: false,\n  events: ['click'],\n  selectorPrefix: 'data-amplify-analytics-',\n  provider: 'AWSPinpoint'\n};\n\nvar EventTracker =\n/** @class */\nfunction () {\n  function EventTracker(tracker, opts) {\n    if (!JS.browserOrNode().isBrowser || !window.addEventListener) {\n      logger.debug('not in the supported web environment');\n      return;\n    }\n\n    this._config = Object.assign({}, defaultOpts, opts);\n    this._tracker = tracker;\n    this._delegates = {};\n    this._trackFunc = this._trackFunc.bind(this);\n    logger.debug('initialize pageview tracker with opts', this._config);\n    this.configure(this._config);\n  }\n\n  EventTracker.prototype.configure = function (opts) {\n    var _this = this;\n\n    Object.assign(this._config, opts);\n\n    if (!this._config.enable) {\n      Object.keys(this._delegates).forEach(function (key) {\n        if (typeof _this._delegates[key].destroy === 'function') _this._delegates[key].destroy();\n      });\n      this._delegates = {};\n    } else if (this._config.enable && Object.keys(this._delegates).length === 0) {\n      var selector_1 = '[' + this._config.selectorPrefix + 'on]';\n\n      this._config.events.forEach(function (evt) {\n        _this._delegates[evt] = delegate(document, evt, selector_1, _this._trackFunc, {\n          composed: true,\n          useCapture: true\n        });\n      });\n    }\n\n    return this._config;\n  };\n\n  EventTracker.prototype._trackFunc = function (event, element) {\n    return __awaiter(this, void 0, void 0, function () {\n      var customAttrs, events, eventName, attrs, defaultAttrs, _a, attributes;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            customAttrs = {};\n            events = element.getAttribute(this._config.selectorPrefix + 'on').split(/\\s*,\\s*/);\n            eventName = element.getAttribute(this._config.selectorPrefix + 'name');\n            attrs = element.getAttribute(this._config.selectorPrefix + 'attrs');\n\n            if (attrs) {\n              attrs.split(/\\s*,\\s*/).forEach(function (attr) {\n                var tmp = attr.trim().split(/\\s*:\\s*/);\n                customAttrs[tmp[0]] = tmp[1];\n              });\n            }\n\n            if (!(typeof this._config.attributes === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this._config.attributes()];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = this._config.attributes;\n            _b.label = 3;\n\n          case 3:\n            defaultAttrs = _a;\n            attributes = Object.assign({\n              type: event.type,\n              target: event.target.localName + \" with id \" + event.target.id\n            }, defaultAttrs, customAttrs);\n            logger.debug('events needed to be recorded', events);\n            logger.debug('attributes needed to be attached', customAttrs);\n\n            if (events.indexOf(event.type) < 0) {\n              logger.debug(\"event \" + event.type + \" is not selected to be recorded\");\n              return [2\n              /*return*/\n              ];\n            }\n\n            this._tracker({\n              name: eventName || 'event',\n              attributes: attributes\n            }, this._config.provider).catch(function (e) {\n              logger.debug(\"Failed to record the \" + event.type + \" event', \" + e);\n            });\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  return EventTracker;\n}();\n\nexport { EventTracker };\n/**\n * @deprecated use named import\n */\n\nexport default EventTracker;","/*\n * Copyright 2017-2017 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}; // the session tracker for web\n\n\nimport { ConsoleLogger as Logger, JS } from '@aws-amplify/core';\nvar logger = new Logger('SessionTracker');\nvar defaultOpts = {\n  enable: false,\n  provider: 'AWSPinpoint'\n};\nvar initialEventSent = false;\n\nvar SessionTracker =\n/** @class */\nfunction () {\n  function SessionTracker(tracker, opts) {\n    this._config = Object.assign({}, defaultOpts, opts);\n    this._tracker = tracker;\n    this._hasEnabled = false;\n    this._trackFunc = this._trackFunc.bind(this);\n    this._trackBeforeUnload = this._trackBeforeUnload.bind(this);\n    this.configure(this._config);\n  }\n\n  SessionTracker.prototype._envCheck = function () {\n    if (!JS.browserOrNode().isBrowser) {\n      return false;\n    }\n\n    if (!document || !document.addEventListener) {\n      logger.debug('not in the supported web environment');\n      return false;\n    }\n\n    if (typeof document.hidden !== 'undefined') {\n      this._hidden = 'hidden';\n      this._visibilityChange = 'visibilitychange';\n    } else if (typeof document['msHidden'] !== 'undefined') {\n      this._hidden = 'msHidden';\n      this._visibilityChange = 'msvisibilitychange';\n    } else if (typeof document['webkitHidden'] !== 'undefined') {\n      this._hidden = 'webkitHidden';\n      this._visibilityChange = 'webkitvisibilitychange';\n    } else {\n      logger.debug('not in the supported web environment');\n      return false;\n    }\n\n    return true;\n  };\n\n  SessionTracker.prototype._trackFunc = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var customAttrs, _a, attributes;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (!(typeof this._config.attributes === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this._config.attributes()];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = this._config.attributes;\n            _b.label = 3;\n\n          case 3:\n            customAttrs = _a;\n            attributes = Object.assign({}, customAttrs);\n\n            if (document.visibilityState === this._hidden) {\n              this._tracker({\n                name: '_session.stop',\n                attributes: attributes\n              }, this._config.provider).catch(function (e) {\n                logger.debug('record session stop event failed.', e);\n              });\n            } else {\n              this._tracker({\n                name: '_session.start',\n                attributes: attributes\n              }, this._config.provider).catch(function (e) {\n                logger.debug('record session start event failed.', e);\n              });\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  SessionTracker.prototype._trackBeforeUnload = function (event) {\n    // before unload callback cannot be async => https://github.com/aws-amplify/amplify-js/issues/2088\n    var _this = this;\n\n    var customAttrs = typeof this._config.attributes === 'function' ? Promise.resolve(this._config.attributes()) : Promise.resolve(this._config.attributes);\n    customAttrs.then(function (custom) {\n      var attributes = Object.assign({}, custom);\n\n      _this._tracker({\n        name: '_session.stop',\n        attributes: attributes,\n        immediate: true\n      }, _this._config.provider).catch(function (e) {\n        logger.debug('record session stop event failed.', e);\n      });\n    });\n  }; // to keep configure a synchronized function\n\n\n  SessionTracker.prototype._sendInitialEvent = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var customAttrs, _a, attributes;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            if (initialEventSent) {\n              logger.debug('the start session has been sent when the page is loaded');\n              return [2\n              /*return*/\n              ];\n            } else {\n              initialEventSent = true;\n            }\n\n            if (!(typeof this._config.attributes === 'function')) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this._config.attributes()];\n\n          case 1:\n            _a = _b.sent();\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            _a = this._config.attributes;\n            _b.label = 3;\n\n          case 3:\n            customAttrs = _a;\n            attributes = Object.assign({}, customAttrs);\n\n            this._tracker({\n              name: '_session.start',\n              attributes: attributes\n            }, this._config.provider).catch(function (e) {\n              logger.debug('record session start event failed.', e);\n            });\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  SessionTracker.prototype.configure = function (opts) {\n    if (!this._envCheck()) {\n      return this._config;\n    }\n\n    Object.assign(this._config, opts);\n\n    if (this._config.enable && !this._hasEnabled) {\n      // send a start session as soon as it's enabled\n      this._sendInitialEvent(); // listen on events\n\n\n      document.addEventListener(this._visibilityChange, this._trackFunc, false);\n      window.addEventListener('beforeunload', this._trackBeforeUnload, false);\n      this._hasEnabled = true;\n    } else if (!this._config.enable && this._hasEnabled) {\n      document.removeEventListener(this._visibilityChange, this._trackFunc, false);\n      window.removeEventListener('beforeunload', this._trackBeforeUnload, false);\n      this._hasEnabled = false;\n    }\n\n    return this._config;\n  };\n\n  return SessionTracker;\n}();\n\nexport { SessionTracker };\n/**\n * @deprecated use named import\n */\n\nexport default SessionTracker;","/*\n * Copyright 2017-2022 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport { Amplify, ConsoleLogger as Logger, Hub, Parser } from '@aws-amplify/core';\nimport { AWSPinpointProvider } from './Providers/AWSPinpointProvider';\nimport { PageViewTracker, EventTracker, SessionTracker } from './trackers';\nvar logger = new Logger('AnalyticsClass');\nvar AMPLIFY_SYMBOL = typeof Symbol !== 'undefined' && typeof Symbol.for === 'function' ? Symbol.for('amplify_default') : '@@amplify_default';\n\nvar dispatchAnalyticsEvent = function dispatchAnalyticsEvent(event, data, message) {\n  Hub.dispatch('analytics', {\n    event: event,\n    data: data,\n    message: message\n  }, 'Analytics', AMPLIFY_SYMBOL);\n};\n\nvar trackers = {\n  pageView: PageViewTracker,\n  event: EventTracker,\n  session: SessionTracker\n};\nvar _instance = null;\n/**\n * Provide mobile analytics client functions\n */\n\nvar AnalyticsClass =\n/** @class */\nfunction () {\n  /**\n   * Initialize Analtyics\n   * @param config - Configuration of the Analytics\n   */\n  function AnalyticsClass() {\n    this._config = {};\n    this._pluggables = [];\n    this._disabled = false;\n    this._trackers = {};\n    _instance = this;\n    this.record = this.record.bind(this);\n    Hub.listen('auth', listener);\n    Hub.listen('storage', listener);\n    Hub.listen('analytics', listener);\n  }\n\n  AnalyticsClass.prototype.getModuleName = function () {\n    return 'Analytics';\n  };\n  /**\n   * configure Analytics\n   * @param {Object} config - Configuration of the Analytics\n   */\n\n\n  AnalyticsClass.prototype.configure = function (config) {\n    var _this = this;\n\n    if (!config) return this._config;\n    logger.debug('configure Analytics', config);\n    var amplifyConfig = Parser.parseMobilehubConfig(config);\n    this._config = Object.assign({}, this._config, amplifyConfig.Analytics, config);\n\n    if (this._config['disabled']) {\n      this._disabled = true;\n    } // turn on the autoSessionRecord if not specified\n\n\n    if (this._config['autoSessionRecord'] === undefined) {\n      this._config['autoSessionRecord'] = true;\n    }\n\n    this._pluggables.forEach(function (pluggable) {\n      // for backward compatibility\n      var providerConfig = pluggable.getProviderName() === 'AWSPinpoint' && !_this._config['AWSPinpoint'] ? _this._config : _this._config[pluggable.getProviderName()];\n      pluggable.configure(__assign({\n        disabled: _this._config['disabled'],\n        autoSessionRecord: _this._config['autoSessionRecord']\n      }, providerConfig));\n    });\n\n    if (this._pluggables.length === 0) {\n      this.addPluggable(new AWSPinpointProvider());\n    }\n\n    dispatchAnalyticsEvent('configured', null, \"The Analytics category has been configured successfully\");\n    logger.debug('current configuration', this._config);\n    return this._config;\n  };\n  /**\n   * add plugin into Analytics category\n   * @param pluggable - an instance of the plugin\n   */\n\n\n  AnalyticsClass.prototype.addPluggable = function (pluggable) {\n    if (pluggable && pluggable.getCategory() === 'Analytics') {\n      this._pluggables.push(pluggable); // for backward compatibility\n\n\n      var providerConfig = pluggable.getProviderName() === 'AWSPinpoint' && !this._config['AWSPinpoint'] ? this._config : this._config[pluggable.getProviderName()];\n\n      var config = __assign({\n        disabled: this._config['disabled']\n      }, providerConfig);\n\n      pluggable.configure(config);\n      return config;\n    }\n  };\n  /**\n   * Get the plugin object\n   * @param providerName - the name of the provider to be removed\n   */\n\n\n  AnalyticsClass.prototype.getPluggable = function (providerName) {\n    for (var i = 0; i < this._pluggables.length; i += 1) {\n      var pluggable = this._pluggables[i];\n\n      if (pluggable.getProviderName() === providerName) {\n        return pluggable;\n      }\n    }\n\n    logger.debug('No plugin found with providerName', providerName);\n    return null;\n  };\n  /**\n   * Remove the plugin object\n   * @param providerName - the name of the provider to be removed\n   */\n\n\n  AnalyticsClass.prototype.removePluggable = function (providerName) {\n    var idx = 0;\n\n    while (idx < this._pluggables.length) {\n      if (this._pluggables[idx].getProviderName() === providerName) {\n        break;\n      }\n\n      idx += 1;\n    }\n\n    if (idx === this._pluggables.length) {\n      logger.debug('No plugin found with providerName', providerName);\n      return;\n    } else {\n      this._pluggables.splice(idx, idx + 1);\n\n      return;\n    }\n  };\n  /**\n   * stop sending events\n   */\n\n\n  AnalyticsClass.prototype.disable = function () {\n    this._disabled = true;\n  };\n  /**\n   * start sending events\n   */\n\n\n  AnalyticsClass.prototype.enable = function () {\n    this._disabled = false;\n  };\n  /**\n   * Record Session start\n   * @param [provider] - name of the provider.\n   * @return - A promise which resolves if buffer doesn't overflow\n   */\n\n\n  AnalyticsClass.prototype.startSession = function (provider) {\n    return __awaiter(this, void 0, void 0, function () {\n      var params;\n      return __generator(this, function (_a) {\n        params = {\n          event: {\n            name: '_session.start'\n          },\n          provider: provider\n        };\n        return [2\n        /*return*/\n        , this._sendEvent(params)];\n      });\n    });\n  };\n  /**\n   * Record Session stop\n   * @param [provider] - name of the provider.\n   * @return - A promise which resolves if buffer doesn't overflow\n   */\n\n\n  AnalyticsClass.prototype.stopSession = function (provider) {\n    return __awaiter(this, void 0, void 0, function () {\n      var params;\n      return __generator(this, function (_a) {\n        params = {\n          event: {\n            name: '_session.stop'\n          },\n          provider: provider\n        };\n        return [2\n        /*return*/\n        , this._sendEvent(params)];\n      });\n    });\n  };\n\n  AnalyticsClass.prototype.record = function (event, providerOrAttributes, metrics) {\n    return __awaiter(this, void 0, void 0, function () {\n      var params;\n      return __generator(this, function (_a) {\n        params = null; // this is just for compatibility, going to be deprecated\n\n        if (typeof event === 'string') {\n          params = {\n            event: {\n              name: event,\n              attributes: providerOrAttributes,\n              metrics: metrics\n            },\n            provider: 'AWSPinpoint'\n          };\n        } else {\n          params = {\n            event: event,\n            provider: providerOrAttributes\n          };\n        }\n\n        return [2\n        /*return*/\n        , this._sendEvent(params)];\n      });\n    });\n  };\n\n  AnalyticsClass.prototype.updateEndpoint = function (attrs, provider) {\n    return __awaiter(this, void 0, void 0, function () {\n      var event;\n      return __generator(this, function (_a) {\n        event = __assign(__assign({}, attrs), {\n          name: '_update_endpoint'\n        });\n        return [2\n        /*return*/\n        , this.record(event, provider)];\n      });\n    });\n  };\n\n  AnalyticsClass.prototype._sendEvent = function (params) {\n    var _this = this;\n\n    if (this._disabled) {\n      logger.debug('Analytics has been disabled');\n      return Promise.resolve();\n    }\n\n    var provider = params.provider ? params.provider : 'AWSPinpoint';\n    return new Promise(function (resolve, reject) {\n      _this._pluggables.forEach(function (pluggable) {\n        if (pluggable.getProviderName() === provider) {\n          pluggable.record(params, {\n            resolve: resolve,\n            reject: reject\n          });\n        }\n      });\n    });\n  };\n\n  AnalyticsClass.prototype.autoTrack = function (trackerType, opts) {\n    if (!trackers[trackerType]) {\n      logger.debug('invalid tracker type');\n      return;\n    } // to sync up two different configuration ways of auto session tracking\n\n\n    if (trackerType === 'session') {\n      this._config['autoSessionRecord'] = opts['enable'];\n    }\n\n    var tracker = this._trackers[trackerType];\n\n    if (!tracker) {\n      this._trackers[trackerType] = new trackers[trackerType](this.record, opts);\n    } else {\n      tracker.configure(opts);\n    }\n  };\n\n  return AnalyticsClass;\n}();\n\nexport { AnalyticsClass };\nvar endpointUpdated = false;\nvar authConfigured = false;\nvar analyticsConfigured = false;\n\nvar listener = function listener(capsule) {\n  var channel = capsule.channel,\n      payload = capsule.payload;\n  logger.debug('on hub capsule ' + channel, payload);\n\n  switch (channel) {\n    case 'auth':\n      authEvent(payload);\n      break;\n\n    case 'storage':\n      storageEvent(payload);\n      break;\n\n    case 'analytics':\n      analyticsEvent(payload);\n      break;\n\n    default:\n      break;\n  }\n};\n\nvar storageEvent = function storageEvent(payload) {\n  var _a = payload.data,\n      attrs = _a.attrs,\n      metrics = _a.metrics;\n  if (!attrs) return;\n\n  if (analyticsConfigured) {\n    _instance.record({\n      name: 'Storage',\n      attributes: attrs,\n      metrics: metrics\n    }).catch(function (e) {\n      logger.debug('Failed to send the storage event automatically', e);\n    });\n  }\n};\n\nvar authEvent = function authEvent(payload) {\n  var event = payload.event;\n\n  if (!event) {\n    return;\n  }\n\n  var recordAuthEvent = function recordAuthEvent(eventName) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!(authConfigured && analyticsConfigured)) return [3\n            /*break*/\n            , 4];\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3,, 4]);\n\n            return [4\n            /*yield*/\n            , _instance.record({\n              name: \"_userauth.\" + eventName\n            })];\n\n          case 2:\n            return [2\n            /*return*/\n            , _a.sent()];\n\n          case 3:\n            err_1 = _a.sent();\n            logger.debug(\"Failed to send the \" + eventName + \" event automatically\", err_1);\n            return [3\n            /*break*/\n            , 4];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  switch (event) {\n    case 'signIn':\n      return recordAuthEvent('sign_in');\n\n    case 'signUp':\n      return recordAuthEvent('sign_up');\n\n    case 'signOut':\n      return recordAuthEvent('sign_out');\n\n    case 'signIn_failure':\n      return recordAuthEvent('auth_fail');\n\n    case 'configured':\n      authConfigured = true;\n\n      if (authConfigured && analyticsConfigured) {\n        sendEvents();\n      }\n\n      break;\n  }\n};\n\nvar analyticsEvent = function analyticsEvent(payload) {\n  var event = payload.event;\n  if (!event) return;\n\n  switch (event) {\n    case 'pinpointProvider_configured':\n      analyticsConfigured = true;\n\n      if (authConfigured && analyticsConfigured) {\n        sendEvents();\n      }\n\n      break;\n  }\n};\n\nvar sendEvents = function sendEvents() {\n  var config = _instance.configure();\n\n  if (!endpointUpdated && config['autoSessionRecord']) {\n    _instance.updateEndpoint({\n      immediate: true\n    }).catch(function (e) {\n      logger.debug('Failed to update the endpoint', e);\n    });\n\n    endpointUpdated = true;\n  }\n\n  _instance.autoTrack('session', {\n    enable: config['autoSessionRecord']\n  });\n};\n\nexport var Analytics = new AnalyticsClass();\nAmplify.register(Analytics);","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nexport { _assign as __assign };\nexport function __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) {\n    if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n  }\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function next() {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n/** @deprecated */\n\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n      i,\n      q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: n === \"return\"\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n      i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n}\n;\n\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}"],"names":["logger","clientInfo","window","warn","nav","navigator","platform","product","vendor","userAgent","language","type","operaMatch","exec","version","ieMatch","cfMatch","sMatch","awkMatch","anyMatch","browserType","timezone","tzMatch","Date","toString","make","model","appVersion","join","browserClientInfo","GetJourneyDateRangeKpiRequest","JourneyDateRangeKpiResponse","GetJourneyDateRangeKpiResponse","GetJourneyExecutionActivityMetricsRequest","JourneyExecutionActivityMetricsResponse","GetJourneyExecutionActivityMetricsResponse","GetJourneyExecutionMetricsRequest","JourneyExecutionMetricsResponse","GetJourneyExecutionMetricsResponse","GetPushTemplateRequest","PushNotificationTemplateResponse","GetPushTemplateResponse","GetRecommenderConfigurationRequest","GetRecommenderConfigurationResponse","GetRecommenderConfigurationsRequest","ListRecommenderConfigurationsResponse","GetRecommenderConfigurationsResponse","GetSegmentRequest","GetSegmentResponse","GetSegmentExportJobsRequest","GetSegmentExportJobsResponse","GetSegmentImportJobsRequest","GetSegmentImportJobsResponse","GetSegmentsRequest","SegmentsResponse","GetSegmentsResponse","GetSegmentVersionRequest","GetSegmentVersionResponse","GetSegmentVersionsRequest","GetSegmentVersionsResponse","GetSmsChannelRequest","GetSmsChannelResponse","GetSmsTemplateRequest","SMSTemplateResponse","GetSmsTemplateResponse","GetUserEndpointsRequest","GetUserEndpointsResponse","GetVoiceChannelRequest","GetVoiceChannelResponse","GetVoiceTemplateRequest","VoiceTemplateResponse","GetVoiceTemplateResponse","JourneysResponse","JourneyStateRequest","ListJourneysRequest","ListJourneysResponse","TemplateResponse","TemplateVersionResponse","ListTagsForResourceRequest","TagsModel","ListTagsForResourceResponse","ListTemplatesRequest","TemplatesResponse","ListTemplatesResponse","ListTemplateVersionsRequest","TemplateVersionsResponse","ListTemplateVersionsResponse","MessageResult","MessageRequest","MessageResponse","NumberValidateRequest","NumberValidateResponse","PhoneNumberValidateRequest","PhoneNumberValidateResponse","PutEventsRequest","PutEventsResponse","WriteEventStream","PutEventStreamRequest","PutEventStreamResponse","UpdateAttributesRequest","RemoveAttributesRequest","RemoveAttributesResponse","SendMessagesRequest","SendMessagesResponse","SendUsersMessageRequest","SendUsersMessagesRequest","SendUsersMessageResponse","SendUsersMessagesResponse","TagResourceRequest","UntagResourceRequest","UpdateAdmChannelRequest","UpdateAdmChannelResponse","UpdateApnsChannelRequest","UpdateApnsChannelResponse","UpdateApnsSandboxChannelRequest","UpdateApnsSandboxChannelResponse","UpdateApnsVoipChannelRequest","UpdateApnsVoipChannelResponse","UpdateApnsVoipSandboxChannelRequest","UpdateApnsVoipSandboxChannelResponse","WriteApplicationSettingsRequest","UpdateApplicationSettingsRequest","UpdateApplicationSettingsResponse","UpdateBaiduChannelRequest","UpdateBaiduChannelResponse","UpdateCampaignRequest","UpdateCampaignResponse","UpdateEmailChannelRequest","UpdateEmailChannelResponse","UpdateEmailTemplateRequest","UpdateEmailTemplateResponse","UpdateEndpointRequest","UpdateEndpointResponse","UpdateEndpointsBatchRequest","UpdateEndpointsBatchResponse","UpdateGcmChannelRequest","UpdateGcmChannelResponse","UpdateJourneyRequest","UpdateJourneyResponse","UpdateJourneyStateRequest","UpdateJourneyStateResponse","UpdatePushTemplateRequest","UpdatePushTemplateResponse","UpdateRecommenderConfigurationShape","UpdateRecommenderConfigurationRequest","UpdateRecommenderConfigurationResponse","UpdateSegmentRequest","UpdateSegmentResponse","SMSChannelRequest","UpdateSmsChannelRequest","UpdateSmsChannelResponse","UpdateSmsTemplateRequest","UpdateSmsTemplateResponse","TemplateActiveVersionRequest","UpdateTemplateActiveVersionRequest","UpdateTemplateActiveVersionResponse","VoiceChannelRequest","UpdateVoiceChannelRequest","UpdateVoiceChannelResponse","UpdateVoiceTemplateRequest","UpdateVoiceTemplateResponse","ClientDevice","dimension","width","height","innerWidth","innerHeight","filterSensitiveLog","obj","PutEventsCommand","_super","input","_this","call","this","prototype","resolveMiddleware","clientStack","configuration","options","middlewareStack","use","serialize","deserialize","stack","concat","handlerExecutionContext","clientName","commandName","inputFilterSensitiveLog","outputFilterSensitiveLog","requestHandler","resolve","request","handle","context","output","UpdateEndpointCommand","AWS_TEMPLATE","AWS_REGIONS","Set","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","ClientSharedValues","apiVersion","disableHostPrefix","regionInfoProvider","region","regionInfo","undefined","hostname","partition","signingService","signingRegion","has","replace","Promise","serviceId","urlParser","ClientDefaultValues","runtime","base64Decoder","base64Encoder","bodyLengthChecker","credentialDefaultProvider","_","reject","Error","defaultUserAgentProvider","clientVersion","maxAttempts","invalidProvider","sha256","Sha256","streamCollector","utf8Decoder","fromUtf8","utf8Encoder","toUtf8","PinpointClient","_config_0","_config_1","_config_2","_config_3","_config_4","_config_5","_config_6","config","destroy","__awaiter","thisArg","_arguments","P","generator","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","pop","length","push","__read","o","m","r","i","ar","error","__spread","arguments","RETRYABLE_CODES","ACCEPTED_CODES","EventsBuffer","client","_pause","_flush","debug","_buffer","_client","_config","_sendBatch","bind","_startLoop","event","_a","bufferSize","handlers","bufferElement","params","eventId","pause","resume","updateClient","flush","_interval","clearInterval","flushInterval","setInterval","bufferLength","flushSize","batchSize","Math","min","bufferSubset","splice","_putEvents","buffer","eventMap","batchEventParams","command","data","err_1","_bufferToMap","_generateBatchEventParams","send","_processPutEventsSuccessResponse","_handlePutEventsFailure","ApplicationId","EventsRequest","BatchItem","Object","values","forEach","item","timestamp","name","attributes","metrics","session","appId","endpointId","batchItem","Endpoint","Events","EventType","Timestamp","toISOString","Attributes","Metrics","Session","err","statusCode","$metadata","httpStatusCode","includes","retryableEvents","_retry","Results","EventsResponse","entries","_b","responses","EventsItemResponse","_c","_d","_e","StatusCode","Message","eventObject","response","eligibleEvents","resendLimit","unshift","reduce","acc","curVal","key","__assign","assign","s","p","hasOwnProperty","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","AMPLIFY_SYMBOL","for","dispatchAnalyticsEvent","Hub","UPDATE_ENDPOINT","SESSION_STOP","BEACON_SUPPORTED","sendBeacon","AWSPinpointProvider","_endpointGenerating","_endpointUpdateInProgress","_endpointBuffer","_clientInfo","getCategory","category","getProviderName","providerName","configure","conf","disabled","cacheKey","_getEndpointId","catch","_flushBuffer","record","credentials","_getCredentials","_initClients","getTime","_generateSession","uuid","immediate","_send","_putToBuffer","_sendEndpointUpdate","endpointObject","_updateEndpoint","shift","_sessionId","_sessionStartTimestamp","Id","StartTimestamp","stopTimestamp","Duration","StopTimestamp","_pinpointSendStopSession","_pinpointPutEvents","_generateBatchItemContext","eventParams","endpointObj","pinpointClient","_eventError","accessInfo","secret_key","secretAccessKey","access_key","accessKeyId","session_token","sessionToken","url","JSON","stringify","method","serviceInfo","service","requestUrl","Signer","eventName","update_params","err_2","failureData","_endpointRequest","JS","EndpointId","EndpointRequest","_resumeBuffer","_handleEndpointUpdateFailure","_handleEndpointUpdateForbidden","_retryEndpointUpdate","code","retryable","exponential","identityId","customUserAgent","addRelativeTo","args","headers","relation","toMiddleware","_bufferExists","_updateBufferClient","_initBuffer","_customizePinpointClientReq","expiration","expires","priority","clientContext","defaultEndpointConfig","endpoint","demographicByClientInfo","modelVersion","demographicByClientContext","clientId","appTitle","appVersionName","appVersionCode","appPackageName","channelType","address","tmp","requestId","effectiveDate","demographic","location","user","userId","userAttributes","ret","err_3","Credentials","lists","MethodEmbed","methodName","_originalMethod","add","methodOverride","getInstance","set","remove","_i","instance","filter","h","PREV_URL_KEY","defaultOpts","enable","provider","getUrl","isBrowser","origin","pathname","PageViewTracker","tracker","opts","_tracker","_hasEnabled","_trackFunc","_pageViewTrackSPA","_pageViewTrackDefault","_isSameUrl","sessionStorage","getItem","customAttrs","addEventListener","setItem","history","pushState","removeEventListener","proto","nativeMatches","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","element","test","nodeType","selector","nodes","parentNode","querySelectorAll","node","delegate","ancestor","eventType","callback","listener","delegateTarget","composedPath","shouldCheckSelf","parent_1","parentElements","ele","list","parents","closest","target","events","selectorPrefix","EventTracker","_delegates","keys","selector_1","evt","document","composed","useCapture","attrs","defaultAttrs","getAttribute","split","attr","trim","localName","id","initialEventSent","SessionTracker","_trackBeforeUnload","_envCheck","hidden","_hidden","_visibilityChange","visibilityState","custom","_sendInitialEvent","trackers","pageView","_instance","AnalyticsClass","_pluggables","_disabled","_trackers","getModuleName","message","amplifyConfig","Parser","Analytics","pluggable","providerConfig","autoSessionRecord","addPluggable","getPluggable","removePluggable","idx","disable","startSession","_sendEvent","stopSession","providerOrAttributes","updateEndpoint","autoTrack","trackerType","endpointUpdated","authConfigured","analyticsConfigured","capsule","channel","payload","authEvent","storageEvent","analyticsEvent","recordAuthEvent","sendEvents","Amplify","_extendStatics","d","b","setPrototypeOf","__proto__","Array","__extends","String","__","constructor","create","_assign"],"sourceRoot":""}