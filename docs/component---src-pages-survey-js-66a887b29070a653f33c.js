"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[894],{53971:function(e,t,n){var i=n(95318);t.Z=void 0;var o=i(n(64198)),r=n(85893),a=(0,o.default)([(0,r.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,r.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");t.Z=a},63479:function(e,t,n){var i=n(95318);t.Z=void 0;var o=i(n(64198)),r=n(85893),a=(0,o.default)((0,r.jsx)("path",{d:"M19 7v4H5.83l3.58-3.59L8 6l-6 6 6 6 1.41-1.41L5.83 13H21V7z"}),"KeyboardReturn");t.Z=a},86279:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var i=n(60428),o=n(68923),r=n(16486),a=n(87098),s=n(38037),l=n(53335),p=n.n(l),x=n(44539),c=n(90281),u=n(53971),m=n(63479),d=n(75557),g=n(48945),h=n(67294),f=n(25024),y=n(7545),v=n(16975),b=function(e){var t,n,i;return{lastElementContainer:{width:"100%",maxWidth:"500px",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",marginTop:{xs:"100px",sm:"100px",md:"30px",lg:"60px",xl:"60px"}},lastElementTopSection:{width:"500px",maxWidth:"100%",height:"300px",marginTop:{xs:"5%",sm:"25%",md:"25%",lg:"25%",xl:"25%"}},buttonContainer:{marginLeft:"50px",marginTop:{xs:"55px",sm:"60px",md:"60px",lg:"60px",xl:"60px"}},mainContainer:{opacity:null==e?void 0:e.opacity,transition:"opacity 1s",width:"100%",height:"100%",display:null!=e&&e.opacity?"flex":"none",flexDirection:"column",alignItems:"center",alignContent:"center",marginTop:{xs:"20%",sm:"20%",md:"5%",lg:"5%",xl:"5%"}},homeElementText:{width:"100%",textAlign:"center",marginTop:"25px",display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",padding:{xs:"0px 20px 0 20px",sm:"0px 50px 0 50px",md:"0px 50px 0 50px",lg:"0px 50px 0 50px",xl:"0px 50px 0 50px"}},noImageContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center"},surveyContainer:{display:[1,2,3].includes(null==e?void 0:e.checked)?"block":"none",padding:"0px 20px 0px 20px",width:{xs:"100%",sm:"100%",md:"60%",lg:"60%",xl:"60%"}},questionContainer:(t={height:"140px",display:"flex",flexDirection:"columnn",justifyItems:"start",marginTop:{xs:"170px",sm:"60%",md:"30%",lg:"30%",xl:"30%"}},t.height={xs:"140px",sm:"150px",md:"120px",lg:"120px",xl:"120px"},t),questionStyle:{fontWeight:600,lineHeight:"1.8rem",fontSize:{xs:"1.2rem",sm:"25px",md:"25px",lg:"25px",xl:"25px"}},choiceContainer:(n={width:"100%",marginTop:"50px",height:"25px",display:"flex",flexDirection:"row",alignItems:"center",alignContent:"center"},n.marginTop="50px",n),leftBox:{position:"absolute",left:"30px"},rightBox:{position:"absolute",right:"30px"},numbersBox:{display:"flex",flexDirection:"row",justifyItems:"start",justifyContent:"center",marginTop:{xs:"10%",sm:"10%",md:"1%",lg:"1%",xl:"1%"}},choiceStyle:{position:"relative",top:"0px",marginTop:"0px",padding:{xs:"5px",sm:"20px",md:"20px",lg:"20px",xl:"20px"}},avatarStyle:{cursor:"pointer",backgroundColor:v.Z[500],transition:"background-color 250ms",width:"50px",height:"50px"},titleSecondaryText:(i={color:"white",fontSize:{xs:"1.5rem",sm:"1.5rem",md:"2.8rem",lg:"2.8rem",xl:"2.8rem"},lineHeight:{xs:"1.5rem",sm:"1.5rem",md:"2.8rem",lg:"2.8rem",xl:"2.8rem"},fontWeight:"bold"},i.lineHeight="1.5rem",i.width="100%",i)}},j=(0,y.Z)((function(e){var t,n,i,o,r,a,s,l,p,x,c,u;return{noImageContainer:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center"},title:(t={marginTop:"50px",fontSize:"60px",fontWeight:600},t[e.breakpoints.up("sm")]={fontSize:"100px",marginTop:0},t),homeElementText:(n={width:"100%",textAlign:"center",marginTop:"25px",display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center",padding:"0px 20px 0 20px"},n[e.breakpoints.up("sm")]={padding:"0px 50px 0 50px"},n),mainContainer:(i={opacity:function(e){return e.opacity},transition:"opacity 1s",width:"100%",height:"100%",display:function(e){return e.opacity?"flex":"none"},flexDirection:"column",alignItems:"center",alignContent:"center"},i[e.breakpoints.up("sm")]={marginTop:"20%"},i[e.breakpoints.up("md")]={marginTop:"5%"},i),surveyContainer:(o={display:function(e){return[1,2,3].includes(e.checked)?"block":"none"},width:"100%",padding:"0px 20px 0px 20px"},o[e.breakpoints.up("sm")]={width:"60%"},o),questionContainer:(r={height:"140px",marginTop:"170px",display:"flex",flexDirection:"columnn",justifyItems:"start"},r[e.breakpoints.up("sm")]={marginTop:"60%",height:"150px"},r[e.breakpoints.up("md")]={marginTop:"30%",height:"120px"},r),questionStyle:(a={fontSize:"1.2rem",fontWeight:600,lineHeight:"1.8rem"},a[e.breakpoints.up("sm")]={fontSize:"25px"},a),choiceContainer:(s={width:"100%",marginTop:"50px",height:"25px",display:"flex",flexDirection:"row",alignItems:"center",alignContent:"center"},s.marginTop="50px",s[e.breakpoints.up("sm")]={marginTop:"50px"},s),leftBox:{position:"absolute",left:"30px"},numbersBox:(l={display:"flex",flexDirection:"row",justifyItems:"start",justifyContent:"center"},l[e.breakpoints.up("sm")]={marginTop:"10%"},l[e.breakpoints.up("md")]={marginTop:"1%"},l),rightBox:{position:"absolute",right:"30px"},avatarStyle:{cursor:"pointer",backgroundColor:v.Z[500],transition:"background-color 250ms",width:"50px",height:"50px"},choiceStyle:(p={padding:"5px",position:"relative",top:"0px",marginTop:"0px"},p[e.breakpoints.up("sm")]={padding:"20px"},p),lastElementContainer:(x={width:"100%",maxWidth:"500px",padding:"30px",display:"flex",flexDirection:"column",alignItems:"center",alignContent:"center"},x[e.breakpoints.up("sm")]={marginTop:"100px"},x[e.breakpoints.up("md")]={marginTop:"30px"},x[e.breakpoints.up("lg")]={marginTop:"60px"},x),lastElementTopSection:(c={marginTop:"5%",width:"500px",maxWidth:"100%",height:"300px"},c[e.breakpoints.up("sm")]={marginTop:"25%"},c),buttonContainer:(u={marginTop:"55px",marginLeft:"50px"},u[e.breakpoints.up("sm")]={marginTop:"60px"},u)}})),w=n(66652),C=n(4382);d.dQ.configure(f.Z);var k=[{question:"Comment jugez-vous l’apport de cet événement sur votre connaissance et votre compréhension du sujet?",lowerChoice:"faible",higherChoice:"très important"},{question:"Comment jugez-vous le niveau d’expertise de l’intervenant (approche scientifique, documentée, partage d’expériences, citation des sources, démonstrations ...).",lowerChoice:"pas du tout expert",higherChoice:"expert"},{question:"Est ce que cette intervention  était vivante? (coupures de rythme, participation du public, anectodes ..)",lowerChoice:"pas du tout vivante",higherChoice:"très vivante"}],Z=function(e){var t=e.data,n=e.opacity,r=e.keyMail,a=e.setChecked,s=e.index,l=e.eventId,p=(e.checked,(0,h.useState)(!1)),c=p[0],u=p[1];j(Object.assign({},e,{pressed:c}));return(0,C.jsx)(o.Z,{position:"absolute",top:0,style:{visibility:1==n?"visible":"hidden",opacity:n,transition:"opacity 1s"},sx:b(e).surveyContainer},(0,C.jsx)(o.Z,{sx:b(e).questionContainer,marginTop:"15%"},(0,C.jsx)(i.Z,{sx:b(e).questionStyle},t.question)),(0,C.jsx)(o.Z,{sx:b(e).choiceContainer},(0,C.jsx)(o.Z,{sx:b(e).leftBox},(0,C.jsx)(i.Z,null,t.lowerChoice)),(0,C.jsx)(o.Z,{sx:b(e).rightBox},(0,C.jsx)(i.Z,null,t.higherChoice))),(0,C.jsx)(o.Z,{sx:b(e).numbersBox},[1,2,3,4,5].map((function(t){return(0,C.jsx)(o.Z,{sx:b(e).choiceStyle,key:"button-"+s+"-"+t},(0,C.jsx)(x.Z,{onClick:function(){return function(e,t){var n={eventId:l,grade:t,question:"QUE-"+e,key:r};(0,w.ME)(n),u(e),setTimeout((function(){a(e+1)}),250)}(s,t)},sx:b(e).avatarStyle},(0,C.jsx)(i.Z,{style:{fontSize:"25px"}},t)))}))))},T=function(e){var t=e.opacity,n=e.eventId,r=e.keyMail,a=(j(),(0,h.useState)(!1)),l=a[0],p=a[1],x=(0,h.useState)(""),c=x[0],u=x[1];return(0,C.jsx)(o.Z,{style:{visibility:1==t?"visible":"hidden",opacity:t,transition:"opacity 1s",width:"100%",height:"100%"},className:"d-flex flex-column align-items-center align-content-center"},(0,C.jsx)(o.Z,{sx:b().lastElementContainer},(0,C.jsx)(o.Z,{sx:b().lastElementTopSection},(0,C.jsx)(o.Z,{marginBottom:"20px"},(0,C.jsx)(i.Z,null,"Souhaitez vous partager un avis supplémentaire ?")),(0,C.jsx)("textarea",{style:{width:"100%",height:"100%",padding:"20px",backgroundColor:"white"},value:c,onChange:function(e){(null==c?void 0:c.length)<350&&u(e.target.value)}})),(0,C.jsx)(o.Z,{display:"flex",flexDirection:"row",justifyContent:"end",width:"100%",padding:"0 10px 0 10px"},(0,C.jsx)(i.Z,{style:{fontSize:"0.8rem"}},c.length,"/",350)),l&&(0,C.jsx)(o.Z,{bgcolor:"black",padding:"10px 30px 10px 30px",position:"relative",bottom:"50px",sx:{visibility:l?"hidden":"visible",transition:"visibility 250ms"}},(0,C.jsx)(i.Z,{style:{color:"white",fontSize:"1.5rem"}},"MERCI !")),!l&&(0,C.jsx)(o.Z,{sx:b().buttonContainer},(0,C.jsx)(E,{onClick:function(){var e={eventId:n,key:r,comment:c};(0,w.ME)(e),p(!0);setTimeout((function(){(0,s.navigate)("/")}),3e3)}},"Envoyer"))))},S=function(e){var t=e.setChecked,n=(e.opacity,function(e){console.log("@HANDLER"),console.log(e)}),r=function(e){"Enter"==e.code&&t(1)};(0,h.useEffect)((function(){return window.addEventListener("keydown",n),window.addEventListener("keyup",r),function(){window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)}}),[]);j(Object.assign({},e,{isMobile:a.tq}));return console.log("@HOME"),console.log(b(Object.assign({},e,{isMobile:a.tq})).mainContainer),(0,C.jsx)(o.Z,{sx:b(Object.assign({},e,{isMobile:a.tq})).mainContainer},(0,C.jsx)(o.Z,{marginTop:"10%"}),(0,C.jsx)(o.Z,{sx:b(Object.assign({},e,{isMobile:a.tq})).homeElementText},(0,C.jsx)(o.Z,null,(0,C.jsx)(i.Z,{style:{fontSize:"1.7rem"}},"Merci pour ce retour.")),(0,C.jsx)(o.Z,{width:"100%",marginTop:"10px"},(0,C.jsx)(i.Z,{style:{fontSize:"1.7rem",lineHeight:"1.9rem"}},"Accordez nous encore 1 minute  pour nous en dire plus sur la conférence."))),(0,C.jsx)(o.Z,{marginTop:"50px",marginLeft:a.tq?"0px":"8rem",display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center"},(0,C.jsx)(E,{onClick:function(){return t(1)}},"Donnez votre feed-back"),!a.tq&&(0,C.jsx)(o.Z,{width:"150px",display:"flex",flexDirection:"row"},(0,C.jsx)(o.Z,{marginLeft:"20px"},"appuyer ",(0,C.jsx)("span",{style:{fontWeight:600}},"Enter")),(0,C.jsx)(o.Z,null,(0,C.jsx)(m.Z,{style:{fontSize:"15px",position:"relative",left:"2px",bottom:"2px"}})))),(0,C.jsx)(o.Z,{bgcolor:v.Z[700],marginTop:"10px",padding:"5px",display:"flex",flexDirection:"row",alignContent:"center",alignItems:"center"},(0,C.jsx)(u.Z,{style:{color:"white",fontSize:"15px"}}),(0,C.jsx)(o.Z,{marginLeft:"5px"},(0,C.jsx)(i.Z,{style:{color:"white",fontSize:"0.8rem"}},"1 mn"))))},I=function(e){var t=e.data,n=(0,h.useState)(null),i=n[0],r=n[1],a=(0,h.useState)(null),s=a[0],l=a[1],x=(0,h.useState)(null),c=(x[0],x[1]),u=(h.useRef(null),(0,h.useState)(0)),m=u[0],d=u[1],f=(0,g.w)((0,g.d)(t.ogImage),[{media:"(max-width: 600px)",image:(0,g.d)(t.smallImage)}]);(0,h.useEffect)((function(){var e=window.location.search,t=new URLSearchParams(e),n=t.get("eventId"),i=t.get("key"),o=t.get("choice");r(n),l(i),c(o);var a={eventId:n,grade:parseInt(o),question:"QUE-0",key:i};(0,w.ME)(a)}),[]);j({checked:m});var y=[1,2,3].includes(m)?k[m-1]:null;return(0,C.jsx)(o.Z,{width:"100vw",height:"100vh"},(0,C.jsx)(g.G,{image:f,alt:"",loading:"lazy",style:{objectFit:"cover",width:"100%",height:"100%"}}),(0,C.jsx)(o.Z,{position:"absolute",top:0,sx:b().noImageContainer},(0,C.jsx)(o.Z,{bgcolor:"black",padding:"20px",width:"100%",heigth:"140px"},(0,C.jsx)(p(),{style:{height:"40px",fill:"white"}})),0==m&&(0,C.jsx)(S,{setChecked:d,opacity:0==m?1:0}),[1,2,3].includes(m)&&(0,C.jsx)(Z,{eventId:i,index:m,keyMail:s,checked:m,setChecked:d,key:"survey-"+m,data:y,opacity:m==m?1:0}),4==m&&(0,C.jsx)(T,{opacity:4==m?1:0,eventId:i,keyMail:s})))},E=(0,c.Z)({root:{width:"250px",color:"black",height:"50px",borderRadius:"30px",fontSize:"0.9rem",backgroundColor:v.Z[100],"&:hover":{backgroundColor:v.Z[200]}},label:{textTransform:"none"}})(r.Z)},66652:function(e,t,n){n.d(t,{ME:function(){return p},Yr:function(){return x},mv:function(){return s},s6:function(){return l}});var i=n(84324),o=n(1329),r=n(56645),a=n(18301),s=function(e,t,n){i.b.graphql((0,o.wT)(r.m7,{formateurId:e,limit:1e8})).then((function(e){var i=e.data.formateursByFollow.items.find((function(e){return e.clientId==t}));i&&n(i)})).catch((function(e){return console.log(e)}))},l=function(e,t,n){i.b.graphql((0,o.wT)(a.f_,{input:{formateurId:t,clientId:e}})).then((function(e){var t=e.data.createFollows;n(t)})).catch((function(e){return console.log(e)}))},p=function(e){i.b.graphql((0,o.wT)(a.Vb,{input:e})).then((function(e){e.data})).catch((function(e){return console.log(e)}))},x=function(e){i.b.graphql((0,o.wT)(a.bI,{input:{id:e}})).then((function(e){e.data;console.log("@REMOVED")})).catch((function(e){return console.log(e)}))}}}]);
//# sourceMappingURL=component---src-pages-survey-js-66a887b29070a653f33c.js.map